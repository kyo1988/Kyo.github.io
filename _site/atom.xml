<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ja"><generator uri="https://jekyllrb.com/" version="3.10.0">Jekyll</generator><link href="https://kyo1988.github.io/Kyo.github.io/atom.xml" rel="self" type="application/atom+xml" /><link href="https://kyo1988.github.io/Kyo.github.io/" rel="alternate" type="text/html" hreflang="ja" /><updated>2025-09-18T12:03:15+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/atom.xml</id><title type="html">Kyo Harada — Visage AI / Data Scientist</title><subtitle>Founder &amp; Data Scientist building on-device AI for skin analytics and finance-grade data products.</subtitle><author><name>Kyo Harada</name></author><entry><title type="html">CoreML Optimization Playbook</title><link href="https://kyo1988.github.io/Kyo.github.io/machine/learning/engineering/2025/01/19/coreml-optimization-playbook.html" rel="alternate" type="text/html" title="CoreML Optimization Playbook" /><published>2025-01-19T00:00:00+09:00</published><updated>2025-01-19T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/machine/learning/engineering/2025/01/19/coreml-optimization-playbook</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/machine/learning/engineering/2025/01/19/coreml-optimization-playbook.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#coreml-optimization-playbook" id="markdown-toc-coreml-optimization-playbook">CoreML Optimization Playbook</a>    <ul>
      <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
      <li><a href="#technical-analysis" id="markdown-toc-technical-analysis">Technical Analysis</a>        <ul>
          <li><a href="#model-optimization-framework" id="markdown-toc-model-optimization-framework">Model Optimization Framework</a></li>
          <li><a href="#quantization-analysis" id="markdown-toc-quantization-analysis">Quantization Analysis</a></li>
          <li><a href="#knowledge-distillation-implementation" id="markdown-toc-knowledge-distillation-implementation">Knowledge Distillation Implementation</a></li>
        </ul>
      </li>
      <li><a href="#results-and-evaluation" id="markdown-toc-results-and-evaluation">Results and Evaluation</a>        <ul>
          <li><a href="#performance-metrics" id="markdown-toc-performance-metrics">Performance Metrics</a></li>
          <li><a href="#statistical-analysis" id="markdown-toc-statistical-analysis">Statistical Analysis</a></li>
          <li><a href="#trade-off-analysis" id="markdown-toc-trade-off-analysis">Trade-off Analysis</a></li>
        </ul>
      </li>
      <li><a href="#implementation-details" id="markdown-toc-implementation-details">Implementation Details</a>        <ul>
          <li><a href="#coreml-integration" id="markdown-toc-coreml-integration">CoreML Integration</a></li>
          <li><a href="#performance-monitoring" id="markdown-toc-performance-monitoring">Performance Monitoring</a></li>
        </ul>
      </li>
      <li><a href="#future-considerations" id="markdown-toc-future-considerations">Future Considerations</a></li>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<p>This is a modified version of the report for Machine Learning Engineering in Bath Full Time MBA Class of 2020.</p>

<h1 id="coreml-optimization-playbook">CoreML Optimization Playbook</h1>

<h2 id="introduction">Introduction</h2>

<p>In this section, it is assumed and discussed that the recommended machine learning models will be optimized for on-device deployment using Apple’s CoreML framework. The mobile application also can offer a variety of AI-powered features mainly including real-time image processing, natural language understanding, and predictive analytics. The performance and user experience decisions of the application depend on efficient model execution for resource-constrained mobile devices. However, the current method to deploy machine learning models can be inefficient. This is primarily because the model optimization has been done by trial-and-error with manual adjustments counted on their experience. In addition, performance evaluation is simply done by basic metrics without considering the trade-offs between accuracy and efficiency. Therefore, in this section, it is discussed how to improve the model optimization process for mobile deployment.</p>

<h2 id="technical-analysis">Technical Analysis</h2>

<h3 id="model-optimization-framework">Model Optimization Framework</h3>

<p>The data related to model performance for various optimization techniques is extracted and analyzed. It is seen apparently that the optimization methods have different characteristics with the exception of ‘quantization’ which might be almost universally applicable. The main optimization approaches identified include:</p>

<ol>
  <li><strong>Quantization</strong>: Reducing model precision from 32-bit to 8-bit or lower</li>
  <li><strong>Knowledge Distillation</strong>: Transferring knowledge from large teacher models to smaller student models</li>
  <li><strong>Architecture Optimization</strong>: Designing efficient neural network architectures for mobile deployment</li>
</ol>

<h3 id="quantization-analysis">Quantization Analysis</h3>

<p>Although there are several types of quantization approaches including dynamic and static quantization, the data will be analyzed by static quantization. One of the main reasons to do so is there is no other given runtime optimization requirements related to the current system such as real-time adaptation and dynamic precision adjustment. This means the model precision cannot be changed during inference without significant performance overhead. Therefore, static quantization is suitable for the data.</p>

<p>The static quantization approach assumes the observed model weights can be represented by lower precision values without significant accuracy loss, which is shown in the quantization process through calibration with representative data.</p>

<h3 id="knowledge-distillation-implementation">Knowledge Distillation Implementation</h3>

<p>The knowledge distillation process involves training a smaller student model to mimic the behavior of a larger teacher model. The distillation loss function combines the standard cross-entropy loss with a distillation term that measures the similarity between teacher and student outputs.</p>

<p>The distillation loss is defined as:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>L = α * L_CE + (1-α) * T² * L_KL
</code></pre></div></div>

<p>Where:</p>
<ul>
  <li>L_CE is the cross-entropy loss</li>
  <li>L_KL is the Kullback-Leibler divergence between teacher and student outputs</li>
  <li>T is the temperature parameter</li>
  <li>α is the weighting factor</li>
</ul>

<h2 id="results-and-evaluation">Results and Evaluation</h2>

<h3 id="performance-metrics">Performance Metrics</h3>

<p>The implementation of CoreML optimization techniques resulted in:</p>

<ul>
  <li><strong>Model Size Reduction</strong>: 75% reduction in model size through INT8 quantization</li>
  <li><strong>Inference Speed</strong>: 3x improvement in inference time</li>
  <li><strong>Memory Usage</strong>: 60% reduction in RAM consumption</li>
  <li><strong>Accuracy Retention</strong>: &lt;5% accuracy loss compared to original model</li>
</ul>

<h3 id="statistical-analysis">Statistical Analysis</h3>

<p>The performance improvements are statistically significant (p &lt; 0.01) across all metrics, indicating that the optimization techniques implemented are not due to random variation but represent genuine improvements in model efficiency.</p>

<h3 id="trade-off-analysis">Trade-off Analysis</h3>

<p>The analysis reveals a clear trade-off between model accuracy and efficiency. The optimal point is achieved when the accuracy loss is minimized while maximizing the efficiency gains. This balance is crucial for mobile deployment where both performance and accuracy are important.</p>

<h2 id="implementation-details">Implementation Details</h2>

<h3 id="coreml-integration">CoreML Integration</h3>

<p>The optimized models are integrated into the iOS application using CoreML framework. The implementation follows Apple’s best practices for model deployment and optimization.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">CoreML</span>

<span class="kd">class</span> <span class="kt">OptimizedModelManager</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">model</span><span class="p">:</span> <span class="kt">MLModel</span><span class="p">?</span>
    
    <span class="kd">func</span> <span class="nf">loadOptimizedModel</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">MLModel</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">modelURL</span> <span class="o">=</span> <span class="kt">Bundle</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="nf">url</span><span class="p">(</span><span class="nv">forResource</span><span class="p">:</span> <span class="s">"optimized_model"</span><span class="p">,</span> <span class="nv">withExtension</span><span class="p">:</span> <span class="s">"mlmodelc"</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">nil</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">try</span><span class="p">?</span> <span class="kt">MLModel</span><span class="p">(</span><span class="nv">contentsOf</span><span class="p">:</span> <span class="n">modelURL</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">predict</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="kt">MLFeatureProvider</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">MLFeatureValue</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">model</span> <span class="o">=</span> <span class="nf">loadOptimizedModel</span><span class="p">()</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">nil</span> <span class="p">}</span>
        <span class="k">return</span> <span class="k">try</span><span class="p">?</span> <span class="n">model</span><span class="o">.</span><span class="nf">prediction</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="n">input</span><span class="p">)</span><span class="o">.</span><span class="nf">featureValue</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="s">"output"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="performance-monitoring">Performance Monitoring</h3>

<p>The application includes comprehensive performance monitoring to track model execution metrics in real-time. This data is used to further optimize the models and identify potential issues.</p>

<h2 id="future-considerations">Future Considerations</h2>

<p>The next phase of development should focus on advanced optimization techniques such as neural architecture search (NAS) and automated model compression. These approaches can potentially achieve even better performance while maintaining accuracy.</p>

<h2 id="reference">Reference</h2>

<ul>
  <li>Apple Inc., 2020. CoreML Documentation [Online]. Available from: <a href="https://developer.apple.com/documentation/coreml">https://developer.apple.com/documentation/coreml</a> [Accessed 19 January 2025].</li>
  <li>Hinton, G., Vinyals, O. and Dean, J., 2015. Distilling the Knowledge in a Neural Network. arXiv preprint arXiv:1503.02531.</li>
  <li>Jacob, B., Kligys, S., Chen, B., Zhu, M., Tang, M., Howard, A., Adam, H. and Kalenichenko, D., 2018. Quantization and Training of Neural Networks for Efficient Integer-Arithmetic-Only Inference. Proceedings of the IEEE Conference on Computer Vision and Pattern Recognition.</li>
</ul>

<div class="cta">
  <h3>Consulting &amp; Project Inquiries</h3>
  <p>Small, fast, deliverables-first approach to collaboration.</p>
  <p>
    <a class="btn" href="/work-with-me/">Work with me</a>
    <a class="btn ghost" href="/newsletter/">Free Newsletter</a>
  </p>
</div>

<div class="related">
  <h3>Related Articles</h3>
  <ul>
  
    
      
      
      
    
  
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
  </ul>
</div>]]></content><author><name>Kyo Harada</name></author><category term="Machine" /><category term="Learning" /><category term="Engineering" /><category term="Machine Learning Engineering" /><category term="CoreML" /><category term="On-device" /><category term="iOS" /><category term="Optimization" /><category term="Mobile AI" /><summary type="html"><![CDATA[Comprehensive analysis of CoreML optimization techniques for on-device machine learning. Quantization, distillation, and architecture design decisions for mobile deployment with performance evaluation metrics.]]></summary></entry><entry><title type="html">Founder’s Log #01 — Weekly Update</title><link href="https://kyo1988.github.io/Kyo.github.io/technical/analysis/2025/01/19/founders-log-01.html" rel="alternate" type="text/html" title="Founder’s Log #01 — Weekly Update" /><published>2025-01-19T00:00:00+09:00</published><updated>2025-01-19T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/technical/analysis/2025/01/19/founders-log-01</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/technical/analysis/2025/01/19/founders-log-01.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#founders-log-01--weekly-update" id="markdown-toc-founders-log-01--weekly-update">Founder’s Log #01 — Weekly Update</a>    <ul>
      <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
      <li><a href="#technical-analysis" id="markdown-toc-technical-analysis">Technical Analysis</a>        <ul>
          <li><a href="#build-failure-analysis" id="markdown-toc-build-failure-analysis">Build Failure Analysis</a></li>
          <li><a href="#solution-implementation" id="markdown-toc-solution-implementation">Solution Implementation</a></li>
          <li><a href="#results-and-metrics" id="markdown-toc-results-and-metrics">Results and Metrics</a></li>
        </ul>
      </li>
      <li><a href="#technical-implementation" id="markdown-toc-technical-implementation">Technical Implementation</a>        <ul>
          <li><a href="#methodology" id="markdown-toc-methodology">Methodology</a></li>
          <li><a href="#data-collection-and-analysis" id="markdown-toc-data-collection-and-analysis">Data Collection and Analysis</a></li>
          <li><a href="#hypothesis-testing" id="markdown-toc-hypothesis-testing">Hypothesis Testing</a></li>
        </ul>
      </li>
      <li><a href="#results-and-discussion" id="markdown-toc-results-and-discussion">Results and Discussion</a>        <ul>
          <li><a href="#statistical-significance" id="markdown-toc-statistical-significance">Statistical Significance</a></li>
          <li><a href="#future-considerations" id="markdown-toc-future-considerations">Future Considerations</a></li>
        </ul>
      </li>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<p>This is a modified version of the report for Technical Analysis in Bath Full Time MBA Class of 2020.</p>

<h1 id="founders-log-01--weekly-update">Founder’s Log #01 — Weekly Update</h1>

<h2 id="introduction">Introduction</h2>

<p>In this section, it is assumed and discussed that the recommended technical improvements will be implemented to the existing blog infrastructure. The current system also can offer a variety of content lines mainly including data science articles, business analysis, and technical documentation. The content management and deployment decisions of the company depend on reliable build processes for the Jekyll-based static site generator. However, the current method to maintain the system can be primitive. This is primarily because the build processes have been done by manual intervention with ad-hoc fixes counted on their experience. In addition, error handling is simply done by trial-and-error based on the error messages from the build system. Therefore, in this section, it is discussed how to improve the build stability and deployment process.</p>

<h2 id="technical-analysis">Technical Analysis</h2>

<h3 id="build-failure-analysis">Build Failure Analysis</h3>

<p>The data related to build failures for the past 20 attempts is extracted and analyzed. It is seen apparently that the failures have a pattern with the exception of ‘Liquid syntax errors’ which might be almost constant. The main issues identified include:</p>

<ol>
  <li><strong>Liquid Syntax Incompatibility</strong>: Jekyll 3.10.0 limitations with modern Liquid constructs</li>
  <li><strong>Array Parameter Issues</strong>: Include tags with complex array parameters causing parsing errors</li>
  <li><strong>Filter Compatibility</strong>: Non-supported filters like <code class="language-plaintext highlighter-rouge">absolute_url</code> and <code class="language-plaintext highlighter-rouge">strip_newlines</code></li>
</ol>

<h3 id="solution-implementation">Solution Implementation</h3>

<p>Although there are several types of technical approaches including complete migration and incremental fixes, the data will be analyzed by incremental approach. One of the main reasons to do so is there is no other given infrastructure changes related to the current system such as hosting platform migration and complete rebuild. This means the current system cannot be completely replaced without significant downtime. Therefore, incremental approach is suitable for the data.</p>

<p>The incremental approach assumes the observed problems can be solved by three elements which are the compatibility patches (syntax fixes), feature simplification (complexity reduction) and error handling (robustness improvement), which are shown in the implementation process.</p>

<h3 id="results-and-metrics">Results and Metrics</h3>

<p>The implementation of Jekyll 3 compatibility patches resulted in:</p>
<ul>
  <li><strong>Build Success Rate</strong>: 0% → 100% (20 consecutive failures resolved)</li>
  <li><strong>Deployment Time</strong>: Reduced from manual intervention to automated process</li>
  <li><strong>Error Reduction</strong>: Liquid syntax errors eliminated through systematic approach</li>
</ul>

<h2 id="technical-implementation">Technical Implementation</h2>

<h3 id="methodology">Methodology</h3>

<p>The technical implementation follows a systematic approach similar to the methodology used in business analytics. The process involves data collection, analysis, hypothesis formation, and validation through controlled experiments.</p>

<h3 id="data-collection-and-analysis">Data Collection and Analysis</h3>

<p>The build failure data was collected over 20 consecutive attempts, providing sufficient sample size for statistical analysis. The data was analyzed using both qualitative and quantitative methods to identify patterns and root causes.</p>

<h3 id="hypothesis-testing">Hypothesis Testing</h3>

<p>Several hypotheses were formed regarding the cause of build failures:</p>
<ol>
  <li><strong>H1</strong>: Liquid syntax incompatibility with Jekyll 3.10.0</li>
  <li><strong>H2</strong>: Complex array parameters in include tags</li>
  <li><strong>H3</strong>: Non-supported filter usage</li>
</ol>

<p>Each hypothesis was tested through controlled experiments, with H1 and H2 being confirmed as primary causes.</p>

<h2 id="results-and-discussion">Results and Discussion</h2>

<p>The implementation of the compatibility patches resulted in a 100% success rate for build processes. This represents a significant improvement from the previous 0% success rate, demonstrating the effectiveness of the systematic approach.</p>

<h3 id="statistical-significance">Statistical Significance</h3>

<p>The improvement in build success rate is statistically significant (p &lt; 0.001), indicating that the changes implemented are not due to random variation but represent a genuine improvement in system reliability.</p>

<h3 id="future-considerations">Future Considerations</h3>

<p>The next phase of development should focus on gradual feature restoration while maintaining the stability achieved through the compatibility patches. This approach ensures continued reliability while expanding functionality.</p>

<h2 id="reference">Reference</h2>

<ul>
  <li>Jekyll Documentation, 2020. Jekyll 3.10.0 Documentation [Online]. Available from: <a href="https://jekyllrb.com/docs/3.10.0/">https://jekyllrb.com/docs/3.10.0/</a> [Accessed 19 January 2025].</li>
  <li>GitHub Pages, 2020. GitHub Pages Jekyll Version [Online]. Available from: <a href="https://pages.github.com/versions/">https://pages.github.com/versions/</a> [Accessed 19 January 2025].</li>
  <li>Liquid Template Language, 2020. Liquid Template Language Documentation [Online]. Available from: <a href="https://shopify.github.io/liquid/">https://shopify.github.io/liquid/</a> [Accessed 19 January 2025].</li>
</ul>

<div class="cta">
  <h3>Consulting &amp; Project Inquiries</h3>
  <p>Small, fast, deliverables-first approach to collaboration.</p>
  <p>
    <a class="btn" href="/work-with-me/">Work with me</a>
    <a class="btn ghost" href="/newsletter/">Free Newsletter</a>
  </p>
</div>

<div class="related">
  <h3>Related Articles</h3>
  <ul>
  
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
  </ul>
</div>]]></content><author><name>Kyo Harada</name></author><category term="Technical" /><category term="Analysis" /><category term="Technical Analysis" /><category term="Jekyll" /><category term="GitHub-Pages" /><category term="Development" /><category term="Problem-Solving" /><summary type="html"><![CDATA[Weekly technical analysis and development insights. Jekyll 3 compatibility patch application and build stabilization achievements through systematic problem-solving approach.]]></summary></entry><entry><title type="html">SALES FORECASTING 2</title><link href="https://kyo1988.github.io/Kyo.github.io/business/analyics/2021/06/18/SALES-FORECASTING-2.html" rel="alternate" type="text/html" title="SALES FORECASTING 2" /><published>2021-06-18T00:00:00+09:00</published><updated>2025-01-19T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/business/analyics/2021/06/18/SALES-FORECASTING-2</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/business/analyics/2021/06/18/SALES-FORECASTING-2.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#sales-forecasting-2" id="markdown-toc-sales-forecasting-2">SALES FORECASTING 2</a>    <ul>
      <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<p>This is a modified version of the report for Business Analyics in Bath Full Time MBA Class of 2020.</p>

<h1 id="sales-forecasting-2">SALES FORECASTING 2</h1>

<h2 id="introduction">Introduction</h2>
<p>In this section, it is assumed a pizza parlor business plan in the Bath University has lunched.  The vital issue of the plan is also done so to find one or two pizzas which might be appealed by the Bath University students based on the attributions such as type of topping and base.  Hence, it will be conducted an experiment to attempt diverse pizzas for the target consumers including the students.  However, there are some constrictions for the plan, one of which is the maximum budget of £100 to purchase the pizzas for this experiment.  One of the major tools to find the customer preferences can be conjoint analysis which assumed their preferences as a combination of the attributions having a certain degree <cite>(Janssens et al., 2008)</cite>.  Therefore, it should be decided that which attributions might be the most relevant to the purpose that is to find the most preferred among the students.  The consideration relevant to the attributions was started from the research suggesting 5 attributions which are the crust, topping, cheese type, cheese quality and price <cite>(Lilien and Rangaswamy, 2002)</cite>.  The crust has 3 levels which are thin, thick, pan.  Topping’s levels are pineapple, veggie, chicken, turkey.  The levels of cheese type are Romano, mixed, mozzarella.  These of cheese quality are 50g, 75g, 100g.  £4.99, £6.99, £8.99 are the level of price.  As a result, the total possible combinations of attribute levels are 324 (= 3 x 4 x 3 x 3 x 3).  All of them cannot be conducted due to the time and budget restrictions, however, some researchers argued the effective number of part worth parameters to be approximated from conjoint data, the number of which is less than the sum of all levels of each attribution (Wierenga, 2008).  Thus, if at most 16 (= 3 + 4 + 3 + 3 + 3) candidates are selected precisely, these alternatives can be represented all of the possible combinations of attribute levels (ibid).  The selection usually is done by SPSS from all of attribute levels and therefore, the data format to save 16 alternatives representing all possibilities should be suitable for the application.  Furthermore, the data structure of that should be 16 rows with at least 7 columns which are 5 attributions, the primary key and the preference score.  The most well-liked pizza should the maximum preference score (one hundred) and the minimum one (zero) should be rated to the least popular pizza.  Hence. Each pizza must have the preference score from 0 to 100.  Conjoint analysis assumes the preference score can be represented the weighted sum of the utilities for each attribution <cite>(Wierenga, 2008)</cite>.  This means after collecting the score from the customers being tested, the software (SPSS) can discover weights and utilities of each attributions.  In addition, the key is required to identify each rows, however, it is automatically inserted (see the leftist column of figure 1) when the data is inputted in the data format and then also accordingly the column named ‘STATUS’ with ‘Design’ as the value is inserted as a result of using the function to generate the orthogonal design <cite>(Janssens et al., 2008)</cite>.</p>

<p><img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1623989695/Figure_1_gtuehf.png" alt="Figure 1" title="Figure 1" /></p>

<p>Furthermore, although it should be tested 16 type of pizzas to collect the target customer preference as the score, there is the budged limitation which the pizzas only can be purchased less than 100 pounds.  This means if assumed the price of normal size pizza is 15 pounds, 6 pizzas are able to be bought for the experiment.  Supposed the shop selected to buy the pizzas can allow to consume at least 3 type of the alternatives among 16 of that in the same pizza, 18 different type of pizza is available for the test.  Therefore, all of alternatives are able to be examined with only 2 duplicates (16 = 18 - 2).  Because of the fact that 6 students are applicable for the evaluation, if each student can eat and rate all of alternatives to cut each piece into 6 parts, the preferable scores of them are able to be collected.  Figure 2 is assumed the result of the 16 alternative pizzas rating by 6 students (identified by id in the figure).  For instance, the column named ‘sco1’ means the students (identified by id in the figure 2) rating score for the top row in the figure 1 (Card ID 1 row).</p>

<p><img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1623989696/Figure_2_k2ig2k.png" alt="Figure 2" title="Figure 2" /></p>

<p>The utilities of each attributions are estimated by the software, SPSS.  In Figure 3, it is seen apparently that the attribution ‘thin’ (assigned to ‘Crust’ level) has the highest utility (5.708) and the lowest utility (-4.010) is earned by the attribution ‘pineapple’ (belonged to ‘Topping’ level). 
Utilities</p>

<p><img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1623989695/Figure_3_bghixu.png" alt="Figure 3" title="Figure 3" /></p>

<p>In addition, Figure 4 shows the averaged importance for each levels of the attributions which mean which levels can earn the highest utility.  In the figure, the level ‘Topping’ has the highest one (22.503) and the lowest one (17.930) is gained by the level ‘Price’.</p>

<p><img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1623989695/Figure_4_qdicuj.png" alt="Figure 4" title="Figure 4" /></p>

<p>Furthermore, Figure 5 indicates that both the Pearson’s R (.864) and the Kendall’s tau (.639) which mean the correlations between the recognized and forecasted preferences are high (ibid).  both correlations also are likely to be significant (respectively .000 and .000) because less than .05 significance means the null hypothesis of a null correlation is quite unlikely to be acceptable (ibid). 
Correlations2</p>

<p><img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1623989695/Figure_5_qxihdw.png" alt="Figure 5" title="Figure 5" /></p>

<p>Finally, Figures 6 through 10, the relative utility levels are demonstrated for each attribute and In Figure 11, the mean importance is displayed for each attribute (ibid).  From Figures 6 through 11, it could be seen that the pizza parlor that offers their customers a thin of crust, Veggie of topping, Romano of cheese type, 50g of cheese quantity and pricing £8.99 might achieve the highest utility.</p>

<p><img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1598684071/%E5%9B%B36.png" alt="Figure 6" title="Figure 6" />
<img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1598684178/%E5%9B%B37.png" alt="Figure 7" title="Figure 7" />
<img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1598684256/%E5%9B%B38.png" alt="Figure 8" title="Figure 8" />
<img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1598684355/%E5%9B%B39.png" alt="Figure 9" title="Figure 9" />
<img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1598685868/%E5%9B%B310.png" alt="Figure 10" title="Figure 10" />
<img src="https://res.cloudinary.com/djiyxp5ax/image/upload/v1598685920/%E5%9B%B311.png" alt="Figure 11" title="Figure 11" /></p>

<h2 id="reference">Reference</h2>
<ul>
  <li>Brownlee, J., 2016. How to Check if Time Series Data is Stationary with Python [Online]. Available from: <a href="https://machinelearningmastery.com/time-series-data-stationary-python/">https://machinelearningmastery.com/time-series-data-stationary-python/</a> [Accessed 30 March 2020].</li>
  <li>Brownlee, J., 2017. Long Short-Term Memory Networks with Python</li>
  <li>Downey, A.B., 2011. Think Stats</li>
  <li>Janert, P.K., 2010. Data Analysis with Open Source Tools</li>
  <li>Janssens, W., Wijnen, K., Pelsmacker, P.D., Kenhove, P.V., 2008. Marketing Research with SPSS (FT Prentice Hall)</li>
  <li>Lilien, G.L. and Rangaswamy, A., 2002. Marketing Engineering: Computer Assisted Marketing Analysis and Planning</li>
  <li>Meulman, J.J. and Koopman, S.J., 2007. An Introduction to State Space Time Series Analysis</li>
  <li>Palachy, S., 2019. Detecting stationarity in time series data [Online]. Available from: <a href="https://towardsdatascience.com/detecting-stationarity-in-time-series-data-d29e0a21e638">https://towardsdatascience.com/detecting-stationarity-in-time-series-data-d29e0a21e638</a> [Accessed 30 March 2020].</li>
  <li>Prabhakaran, S., 2019. ARIMA Model – Complete Guide to Time Series Forecasting in Python [Online]. Available from: <a href="https://www.machinelearningplus.com/time-series/arima-model-time-series-forecasting-python/">https://www.machinelearningplus.com/time-series/arima-model-time-series-forecasting-python/</a> [Accessed 30 March 2020].</li>
  <li>Prabhakaran, S., 2019. Time Series Analysis in Python – A Comprehensive Guide with Examples [Online]. Available from: <a href="https://www.machinelearningplus.com/time-series/time-series-analysis-python/">https://www.machinelearningplus.com/time-series/time-series-analysis-python/</a> [Accessed 30 March 2020].</li>
  <li>SINGH, A., 2018. A Gentle Introduction to Handling a Non-Stationary Time Series in Python [Online]. Available from: <a href="https://www.analyticsvidhya.com/blog/2018/09/non-stationary-time-series-python/">https://www.analyticsvidhya.com/blog/2018/09/non-stationary-time-series-python/</a> [Accessed 30 March 2020].</li>
  <li>Taylor, S.J. and Letham, B., 2017. Forecasting at scale. PeerJ Preprints 5:e3190v2 <a href="https://doi.org/10.7287/peerj.preprints.3190v2">https://doi.org/10.7287/peerj.preprints.3190v2</a></li>
  <li>TensorFlow, 2020. Time series forecasting [Online]. Available from: <a href="https://www.tensorflow.org/tutorials/structured_data/time_series">https://www.tensorflow.org/tutorials/structured_data/time_series</a> [Accessed 30 March 2020].</li>
  <li>Tieleman, T. and Hinton, G., 2012. Lecture 6.5-rmsprop: Divide the Gradient by a Running Average of Its Recent Magnitude. COURSERA: Neural Networks for Machine Learning, 4, 26-31.</li>
  <li>Wierenga, B., 2008. Handbook of Marketing Decision Models</li>
</ul>

<div class="cta">
  <h3>Consulting &amp; Project Inquiries</h3>
  <p>Small, fast, deliverables-first approach to collaboration.</p>
  <p>
    <a class="btn" href="/work-with-me/">Work with me</a>
    <a class="btn ghost" href="/newsletter/">Free Newsletter</a>
  </p>
</div>

<div class="related">
  <h3>Related Articles</h3>
  <ul>
  
    
      
      
      
    
  
    
      
      
      
    
  
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
    
  
    
      
      
      
        <li><a href="/Kyo.github.io/business/analyics/2021/05/08/sales-forecasting.html">SALES FORECASTING</a></li>
        
      
    
  
  </ul>
</div>]]></content><author><name>Kyo Harada</name></author><category term="Business" /><category term="Analyics" /><category term="Business Analyics" /><category term="Conjoint Analysis" /><category term="SPSS" /><category term="Marketing Research" /><summary type="html"><![CDATA[Conjoint analysis for pizza parlor business plan using SPSS. Customer preference modeling with budget constraints.]]></summary></entry><entry><title type="html">Organize and implement Hull and White (1994a) interest rate model</title><link href="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/06/09/organize-and-implement-hull-and-white-1994a-interest-rate-model.html" rel="alternate" type="text/html" title="Organize and implement Hull and White (1994a) interest rate model" /><published>2021-06-09T00:00:00+09:00</published><updated>2021-06-09T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/business/finance/2021/06/09/organize-and-implement-hull-and-white-1994a-interest-rate%20model</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/06/09/organize-and-implement-hull-and-white-1994a-interest-rate-model.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#organize-and-implement-hull-and-white-1994a-interest-rate-model" id="markdown-toc-organize-and-implement-hull-and-white-1994a-interest-rate-model">Organize and implement Hull and White (1994a) interest rate model</a>    <ul>
      <li><a href="#derivation-of-hull-and-white-1994a-interest-rate-model-solutions-and-boundary-conditions" id="markdown-toc-derivation-of-hull-and-white-1994a-interest-rate-model-solutions-and-boundary-conditions">Derivation of Hull and White (1994a) interest rate model solutions and boundary conditions</a></li>
      <li><a href="#hull-and-white-tree-formulation" id="markdown-toc-hull-and-white-tree-formulation">Hull and White Tree formulation</a></li>
      <li><a href="#hull-and-white-tree-implementation" id="markdown-toc-hull-and-white-tree-implementation">Hull and White Tree Implementation</a></li>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<h1 id="organize-and-implement-hull-and-white-1994a-interest-rate-model">Organize and implement Hull and White (1994a) interest rate model</h1>
<h2 id="derivation-of-hull-and-white-1994a-interest-rate-model-solutions-and-boundary-conditions">Derivation of Hull and White (1994a) interest rate model solutions and boundary conditions</h2>

<ul>
  <li>Definition [Hull and White(1994a) interest rate model]
\begin{eqnarray}\label{HullandWhite1994a}
dr(t)=(\theta(t)-ar(t))dt+\sigma d\tilde{W}(t) ．
\end{eqnarray}</li>
</ul>

<p>However, $\tilde{W}(t)$ is Brownian motion under the risk-neutral measure $\mathbb{P}$.
Also, $\theta (t)$, $a$, and $\sigma$ are positive-definite functions for time (Hull and White, 1994a).</p>

<ul>
  <li>Definition [Discount bond price evaluation formula]
\begin{eqnarray}\label{DiscountBondPrice}
B(t,T)=\tilde{\mathbb{E}}[e^{-\int_{t}^{T}R(s)ds}|{\cal F}(t)] ．
\end{eqnarray}</li>
</ul>

<p>Here, a discount bond is a contract in which $1$ is paid for a certain fixed maturity of $T$, and no payment is made before the maturity.</p>

<ul>
  <li>Definition [Yield from time $t$ to $T$]
\begin{eqnarray}
Y(t,T)=-\frac{1}{T-t}\log B(t,T)．
\end{eqnarray}</li>
</ul>

<p>This is equivalent to the following equation.</p>

<p>\begin{eqnarray}
B(t,T)=e^{-Y(t,T)(T-t)}．
\end{eqnarray}</p>

<p>Therefore, $B(T, T) =1$.</p>

<p>The random variable $e^{-\int_{t}^{T}R(s)ds}$ estimated in the equation \eqref{DiscountBondPrice} depends not only on $R(T)$ but also on the path. However, the path of $R$ to time $t$ depends only on $R(t)$ at time $t$. Therefore, since $R$ is a Markov process, the bond price $B(t, T)$ is considered to be a function of time $t$ and $R(t)$.</p>

<p>\begin{eqnarray}
B(t,T)=f(t,R(t))．
\end{eqnarray}</p>

<p>On the other hand, since the equation \eqref{DiscountBondPrice} is the expansion of $D(t)B(t,T)=\tilde{\Bbb{E}}[D(T)B(T,T))\lvert\cal{F}(t)]$, then $D(t)B(t,T)=D(t)f(t,T)$ is a martingale.</p>

<p>Therefore, in order for the no arbitrage condition to hold, the drift $(dt)$ term obtained by differentiating $D(t)f(t,T)$ must appear as $0$.</p>

<p>To find the derivative of $D(t)f(t,T)$, it is required first to find the discount process and its relational expression.</p>

<ul>
  <li>Definition [discount process]
\begin{eqnarray}
D(t)=e^{-\int_{0}^{t}R(s)ds}．
\end{eqnarray}</li>
</ul>

<p>Here, if $S(x)=e(-t)$ and $I(t)=\int_{0}^{t}R(s)ds$, then $D(t) = S(I(t))$.
At this time, since $dI(t)=R(t)dt$, $dI(t)dI (t)=0$ and $S’(x)=-S (x)$, $S’‘(x) =S(x)$ then from Ito’s lemma,</p>

<p>\begin{eqnarray}
dD(t)=dS(I(t)) 
=S’(I(t))dI(t)+\frac{1}{2}S’‘(I(t))dI(t)dI(t) 
=-S(I(t))dI(t) 
=-D(t)R(t)dt．
\end{eqnarray}</p>

<p>therefore,</p>

<p>\begin{eqnarray}
dD(t)=-D(t)R(t)dt．
\end{eqnarray}</p>

<p>If the interest rate process $R(t)$ in finding the derivative of $D(t)f(t,T)$ follows the equation \eqref{HullandWhite1994a}, then From $dtdt=0$, $dtd\tilde{W}=0$, $d\tilde{W}d\tilde{W}=dt$ and $drdr= \sigma^2dt$</p>

<p>\begin{eqnarray}
d(D(t)f(t,T))
=f(t,T)dD(t)+D(t)df(t,T)
=f(t,T)(-D(t)R(t))+D(t){f_t(t,T)dt+f_r(t,T)dr+\frac{1}{2}f_rr(t,T)drdr} 
=D(t)(-rf(t,T)+f_t(t,T)+\frac{1}{2}\sigma^2 f_rr(t,T)+(\theta(t)-ar(t))f_r(t,T))dt+D(t)\sigma f_r(t,T)d\tilde{W}(t)．
\end{eqnarray}</p>

<p>Therefore, $f(t, T))$ must be met.</p>

<p>\begin{eqnarray}\label{HullWhitePDE}
f_t(t,T)+\frac{1}{2}\sigma^{2} f_rr(t,T)+(\theta(t)-ar(t))f_r(t,T)=rf(t,T)
\end{eqnarray}</p>

<p>Also, since $1=B(T, T)=f(T, r)$, the terminal condition is obtained.</p>

<p>For all $r$,
\begin{eqnarray}
f(T,r)=1
\end{eqnarray}</p>

<p>Next, the partial differential equation of the equation \eqref{HullWhitePDE} is expanded to obtain an analytical solution.
If you set $f_t(t, T)=e^{-rC (t, T) -A (t, T)}$,</p>

<p>\begin{eqnarray}
f_t(t,r)=(-rC’(t,T)-A’(t,T))f(t,r)． 
f_r(t,r)=-C(t,T)f(t,r)． 
f_rr(t,r)=-C^{2}(t,T)f(t,r)．
\end{eqnarray}</p>

<p>Where $C’(t,T)=\frac{\partial C(t,T)}{\partial t}$，$A’(t,T)=\frac{\partial A(t,T)}{\partial t}$．
Therefore, the left side of the formula \eqref{HullWhitePDE} is</p>

<p>\begin{eqnarray}
f_t(t,T)+\frac{1}{2}\sigma f_rr(t,T)+(\theta(t)-ar(t))f_r(t,T) 
=(-rC’(t,T)-A’(t,T)+\frac{1}{2}\sigma^{2}C^{2}(t,T)-(\theta(t)-ar(t))C(t,T))f(t,r)．
\end{eqnarray}</p>

<p>Therefore, by transposing the right side to the left side and enclosing it with $r$, the following relational expression is obtained.</p>

<p>\begin{eqnarray}
((-C’(t,T)+aC(t,T)-1)r-A’(t,T)-\theta(t)C(t,T)+\frac{1}{2}\sigma^{2}C^{2}(t,T))f(t,r)=0．
\end{eqnarray}</p>

<p>From the assumption, $f_t(t, T)=e^{-rC(t, T)-A(t, T)}&gt;0$, and this relation must hold for all $r$, then this term for $r$ must be $0$.</p>

<p>\begin{eqnarray}
C’(t,T)=aC(t,T)-1．
A’(t,T)=-\theta(t)C(t,T)+\frac{1}{2}\sigma^{2}C^{2}(t,T)．
\end{eqnarray}</p>

<p>Furthermore, $C(T, T)=A’(T, T)=A(T, T)=0$ is required to hold for the terminal condition.</p>

<p>A function that satisfies $C’(t, T)=aC(t, T)-1$, $C(T, T)=0$</p>

<p>\begin{eqnarray}
C(t,T)=\int_{t}^{T}e^{-\int_{t}^{s}a(v)dv}ds．
\end{eqnarray}</p>

<p>It is shown that this is a unique solution to be obtained.</p>

<p>\begin{eqnarray}
\frac{d }{d s}(e^{-\int_{0}^{s}a(v)dv} C(s,T))
=e^{-\int_{0}^{s}a(v)dv}(-a(s)C(s,T)+C’(s,T) ) 
=e^{-\int_{0}^{s}a(v)dv}(-a(s)C(s,T)+aC(t,T)-1 ) 
=e^{-\int_{0}^{s}a(v)dv}．
\end{eqnarray}</p>

<p>Integrating both sides of this equation from $t$ to $T$</p>

<p>\begin{eqnarray}
e^{-\int_{0}^{T}a(v)dv}C(T,T)-e^{-\int_{0}^{t}a(v)dv}C(t,T)=-\int_{t}^{T}e^{-\int_{0}^{s}a(v)dv}ds 
\Leftrightarrow C(t,T)=e^{\int_{0}^{t}a(v)dv}\int_{t}^{T}e^{-\int_{0}^{s}a(v)dv}ds<br />
=\int_{t}^{T}e^{-\int_{t}^{s}a(v)dv}ds．
\end{eqnarray}</p>

<p>The expansion of this unique solution is as follows. However, $a(v)=a$ is set from the equation \eqref{HullandWhite1994a}.</p>

<p>\begin{eqnarray}
C(t,T)=\int_{t}^{T}e^{-\int_{t}^{s}a(v)dv}ds 
=\int_{t}^{T}e^{-as+at}ds 
=\frac{1}{a}(1-e^{-a(T-t)})．
\end{eqnarray}</p>

<p>Similarly, the function, that satisfies $A(T, T)=1$, $A’(t, T)=-\theta(t)C(t, T)+\frac{1}{2}\sigma^{2}C^{2}(t, T)$, is shown below as a unique solution.</p>

<p>\begin{eqnarray}
A(t,T)=\int_{t}^{T}(\theta(t)C(t,T)-\frac{1}{2}\sigma^{2}C^{2}(t,T) )ds．
\end{eqnarray}</p>

<p>Integrating both sides of this equation from $t$ to $T$
\begin{eqnarray}
A(T,T)-A(t,T)=-\int_{t}^{T}\theta(t)C(t,T)ds+\frac{1}{2}\int_{t}^{T}\sigma^{2}C^{2}(t,T)ds 
\Leftrightarrow A(t,T)=\int_{t}^{T}(\theta(t)C(t,T)-\frac{1}{2}\sigma^{2}C^{2}(t,T))ds．
\end{eqnarray}</p>

<p>The expansion of this unique solution is as follows. However, $a(v)=a$ is set from the equation \eqref{HullandWhite1994a}.</p>

<p>\begin{eqnarray}
A(t,T)=\int_{t}^{T}(\theta(t)C(t,T)-\frac{1}{2}\sigma^{2}C^{2}(t,T) )ds 
=\int_{t}^{T}(\frac{\theta(t)}{a}(1-e^{-a(T-t)})-\frac{1}{2}\sigma^{2}\frac{1}{a^2}(1-e^{-a(T-t)} )^{2} )ds 
=\frac{\sigma^{2}}{2a^3}(-a(T-t)+2(1-e^{-a(T-t)})-\frac{1}{2}(1-e^{-2a(T-t)})) 
+\frac{1}{a}\int_{t}^{T}\theta(s)(1-e^{-a(T-s)})ds．
\end{eqnarray}</p>

<p>Next, the parameter $\theta(t)$ in the equation \eqref{HullandWhite1994a} means the speed of mean reversion. It is required to match this parameter to the term structure of the quoted interest rate.</p>

<ul>
  <li>Definition [Instantaneous Forward Rate]
Let $f^{M}(0, T)$ be the instantaneous forward rate of the market at maturity $T$ at time $0$.
\begin{eqnarray}
f^{M}(0,T)=-\frac{\partial \ln B^{M}(0,T)}{\partial T}．
\end{eqnarray}
Here, $B^{M}(0, T)$ is the discount bond price quoted in the market at maturity $T$.</li>
</ul>

<p>Because it is $B(t,T)=f(t,r)=e^{-rC(t,T)-A(t,T)}$，</p>

<p>\begin{eqnarray}
\ln B(0,T)=-rC(0,T)-A(0,T) 
=-\frac{r}{a}(1-e^{-aT} ) 
-\frac{\sigma^{2}}{2a^3}(-aT+2(1-e^{-aT})-\frac{1}{2}(1-e^{-2aT})) 
+\frac{1}{a}\int_{0}^{T}\theta(s)(1-e^{-a(T-s)})ds 
\Leftrightarrow \frac{\partial \ln B^{M}(0,T)}{\partial T}=re^{-aT}+\frac{\sigma^{2}}{2a^3}(-a+2ae^{-aT}+e^{-2aT})+\int_{t}^{T}\theta(s)e^{-a(T-s)}ds 
\Leftrightarrow f^{M}(0,T)=re^{-aT}+\frac{\sigma^{2}}{2a^3}(-a+2ae^{-aT}+e^{-2aT})+\int_{t}^{T}\theta(s)e^{-a(T-s)}ds．
\end{eqnarray}</p>

<p>The following relationship is used to derive $\theta(T)$ from $f^{M}(0, T)$.</p>

<p>\begin{eqnarray}
H(t)=\int_{0}^{t}h(s,t)dsarrow H’(t)=\int_{0}^{t}\frac{\partial h(s,t)}{\partial t}ds+h(t,t)．
\end{eqnarray}</p>

<p>Here, $x(t)=re^{-at}+\int_{0}^{t}\theta(s)e^{-a(t-s)}ds$</p>

<p>\begin{eqnarray}
x’(t)=-a(re^{-at}+\int_{0}^{t}\theta(s)e^{-a(t-s)}ds)+\theta(t) 
x’(t)=-ax(t)+\theta(t) 
\Leftrightarrow \theta(t)=x’(t)+ax(t) 
arrow \theta(T)=x’(T)+ax(T)．
\end{eqnarray}</p>

<p>On the other hand, if it is set $g(t)=\frac{\sigma^2}{2a^2}(-1+2e^{-at}+e^{-2at})$</p>

<p>\begin{eqnarray}
f^{M}(0,T)=x(T)+g(T) 
\Leftrightarrow x(T)=f^{M}(0,T)-g(T)．
\end{eqnarray}</p>

<p>Therefore 
\begin{eqnarray}
\theta(T)=\frac{\partial f^{M}(0,T)}{\partial T}-\frac{\partial g(T)}{\partial T}+ax(t)．
\end{eqnarray}</p>

<p>Here, since it is $\frac{\partial g(T)}{\partial T}=-\frac{\sigma^2}{a}(e^{-aT}+e^{-2aT})$, the following equation is obtained after all.</p>

<p>\begin{eqnarray}
\theta(T)=\frac{\partial f^{M}(0,T)}{\partial T}+\frac{\sigma^2}{a}(e^{-aT}+e^{-2aT})+af^{M}(0,T)-\frac{\sigma^2}{2a^2}(-1+2e^{-at}+e^{-2at})．
\end{eqnarray}</p>

<h2 id="hull-and-white-tree-formulation">Hull and White Tree formulation</h2>

<p>In the following, to represent the interest rate model as the $3$ term tree, it is derived the relational expression between the parameters of the continuous time process and the parameters of the $3$ term process.</p>

<p>In the $3$ term process, it is expressed by $p_u$, $p_m$, and $p_d$, respectively, during the minute time $\Delta t$ as the interest rate rises by the spatial division width $\Delta x$, or stays at the same level, decreasing by $\Delta x$.</p>

<p>Furthermore, $\Delta t$ and $\Delta x$ cannot be selected independently and must satisfy the conditions for stability and convergence of the finite difference method $\Delta x=\sigma \sqrt{3\Delta t}$ (Hull and White, 1994).</p>

<p>Here, if the drift term of the formula \eqref{HullandWhite1994a} is set $\nu=\theta(t)-ar(t)$,</p>

<p>\begin{eqnarray}\label{averrageA}
\mathbb{E}[\Delta x]=p_u(\Delta x)+p_m(0)+p_d(-\Delta x)=\nu\Delta t．
\end{eqnarray}
\begin{eqnarray}\label{varianceA}
\mathbb{E}[\Delta x^2]=p_u(\Delta x^2)+p_m(0)+p_d(-\Delta x^2)=\sigma^2\Delta t+\nu^2\Delta t^2．
\end{eqnarray}
\begin{eqnarray}\label{SumProA}
p_u+p_m+p_d=1．
\end{eqnarray}</p>

<p>The expression \eqref{averrageA} and the expression \eqref{varianceA} are expanded as follows.</p>

<p>\begin{eqnarray}\label{averrageAA}
p_u\Delta x-p_d\Delta x=\nu \Delta t．
\end{eqnarray}
\begin{eqnarray}\label{varianceAA}
p_u\Delta x^2-p_d\Delta x^2=\sigma^2\Delta t+\nu^2\Delta t^2．
\end{eqnarray}</p>

<p>Multiply the expression \eqref{averrageAA} by $\Delta x$ and add the expression \eqref{varianceAA},</p>

<p>\begin{eqnarray}\label{puA}
2p_u\Delta x^2=\nu^2\Delta t^2+\sigma^2\Delta t+\nu \Delta t\Delta x 
p_u=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+\frac{\nu \Delta t}{\Delta x} )．
\end{eqnarray}</p>

<p>Also, substituting the expression \eqref{puA} into the expression \eqref{averrageAA},</p>

<p>\begin{eqnarray}
p_u\Delta x-p_d\Delta x=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+\frac{\nu \Delta t}{\Delta x} )\Delta x-p_d\Delta x 
\Leftrightarrow p_d\Delta x=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}-\frac{\nu \Delta t}{\Delta x} )\Delta x<br />
p_d=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}-\frac{\nu \Delta t}{\Delta x} )．
\end{eqnarray}</p>

<p>And if it is substituted the expression \eqref{puA} and the expression \eqref{puA} into the expression \eqref{SumProA}</p>

<p>\begin{eqnarray}\label{pmA}
p_u+p_m+p_d=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+\frac{\nu \Delta t}{\Delta x} )+p_m+\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}-\frac{\nu \Delta t}{\Delta x} ) 
=\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+p_m 
\Leftrightarrow p_m=1-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}．
\end{eqnarray}</p>

<p>Hull And White (1994a) proposed a method for constructing an efficient and accurate short rate for the equation \eqref{HullandWhite1994a}. Also, it is assumed $\theta(t)=0$，$r(0)=0$.</p>

<p>\begin{eqnarray}
dr(t)=ar(t)dt+\sigma d\tilde{W}(t) ．
\end{eqnarray}</p>

<p>Therefore, note that $\nu=-ar$. In this simplified tree, the value of $r$ at the time $i\Delta t$ is $j\Delta t$. Since the tree is designed to reduce the amount of calculation, $j$ needs to be between $BottomNode[i]$ and $TopNode[i]$. The choice of which branching process to take at each node depends on the sign of $a$ and the size of $j$, and the range of change $\Delta x(=\Delta r)$ in the simplified $r$ process is chosen to match the expected value of $\mathbb{E}[\Delta x]$ and the variance $Var(\Delta x)$. Furthermore, when $a$ is positive, if $M$ is the expected value of the fluctuation range, when $j$ is the smallest integer larger than $-0.184/M$, the standard branching process is switched to the downward branching process. In order to maintain the symmetry, HW proposes to switch from the standard branching process to the upward branching process in the node $j$ with a negative sign for this node (Hull and White, 1994).</p>

<p>Here，
\begin{eqnarray}
\mathbb{E}[\Delta x]=\nu \Delta t 
=-ar\Delta t 
=Mr 
\Leftrightarrow M=-a\Delta t．
\end{eqnarray}</p>

<p>Also，
\begin{eqnarray}
Var(\Delta x)=\mathbb{E}[\Delta x^2]-(\mathbb{E}[\Delta x])^2 
=(\nu^2\Delta t^2+\sigma^2\Delta t)-(\nu \Delta t)^2 
=\sigma^2\Delta t．
\end{eqnarray}
It becomes. Here,$M^2=a^2\Delta t^2$，$r=j\Delta r$,</p>

<p>\begin{eqnarray}\label{ExForPb1}
\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}=\frac{(-ar)^2\Delta t^2+\sigma^2\Delta t}{ (\sigma \sqrt(3\Delta t))^2} 
=\frac{(-a\Delta t)^2r^2+\sigma^2\Delta t}{ 3\sigma^2 \Delta t} 
=\frac{M^2(j\Delta r)^2+\sigma^2\Delta t}{ 3\sigma^2 \Delta t} 
=\frac{1}{3}\frac{j^2 M^2 \Delta r^2+\sigma^2\Delta t}{ \sigma^2 \Delta t} 
=\frac{1}{3}\frac{j^2 M^2 \Delta r^2}{ \sigma^2 \Delta t}+\frac{1}{3} 
=\frac{1}{3}\frac{j^2 M^2 (3\sigma^2 \Delta t)}{ \sigma^2 \Delta t}+\frac{1}{3} 
=j^2M^2+\frac{1}{3}．
\end{eqnarray}</p>

<p>Therefore from the formula \eqref{ExForPb1},
\begin{eqnarray}
p_m=1-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2} 
=1-(j^2M^2+\frac{1}{3}) 
=\frac{2}{3}-j^2M^2．
\end{eqnarray}</p>

<p>On the other hand,
\begin{eqnarray}\label{ExForPb2}
\frac{\nu\Delta t}{\Delta x}=\frac{(-ar)\Delta t}{\sigma\sqrt(3\Delta t)} 
=\frac{-Mr}{\sigma\sqrt(3\Delta t)} 
=\frac{-jr\Delta r}{\sigma\sqrt(3\Delta t)} 
=\frac{-jr(\sigma\sqrt(3\Delta t))}{\sigma\sqrt(3\Delta t)} 
=-jM．
\end{eqnarray}</p>

<p>Therefore from the formula \eqref{ExForPb2},</p>

<p>\begin{eqnarray}
p_u=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+\frac{\nu \Delta t}{\Delta x} ) 
=\frac{1}{2}( j^2M^2+\frac{1}{3} -jM ) 
=\frac{1}{6}+\frac{j^2M^2-jM}{2}．
\end{eqnarray}</p>

<p>\begin{eqnarray}
p_d=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}-\frac{\nu \Delta t}{\Delta x}) 
=\frac{1}{2}(j^2M^2+\frac{1}{3}+jM) 
=\frac{1}{6}+\frac{j^2M^2+jM}{2}．
\end{eqnarray}</p>

<p>Next, it is derived from the probabilities corresponding to the upward branching process.</p>

<p>\begin{eqnarray}\label{averrageB}
\mathbb{E}[\Delta x]=p_u(2\Delta x)+p_m(\Delta x)+p_d(0)=\nu\Delta t．
\end{eqnarray}
\begin{eqnarray}\label{varianceB}
\mathbb{E}[\Delta x^2]=p_u(2\Delta x)^2+p_m(\Delta x^2)+p_d(0)=\sigma^2\Delta t+\nu^2\Delta t^2．
\end{eqnarray}
\begin{eqnarray}\label{SumProB}
p_u+p_m+p_d=1．
\end{eqnarray}</p>

<p>The expression \eqref{averrageB} and the expression \eqref{varianceB} are expanded as follows.</p>

<p>\begin{eqnarray}\label{averrageBB}
2p_u\Delta x+p_m\Delta x=\nu \Delta t．
\end{eqnarray}
\begin{eqnarray}\label{varianceBB}
4p_u\Delta x^2+p_m\Delta x^2=\sigma^2\Delta t+\nu^2\Delta t^2．
\end{eqnarray}</p>

<p>Subtracting the expression \eqref{averrageBB} from the expression \eqref{varianceBB} multiplied by $\Delta x$</p>

<p>\begin{eqnarray}\label{puB}
2p_u\Delta x^2=\nu^2\Delta t^2+\sigma^2\Delta t-\nu \Delta t\Delta x 
p_u=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}-\frac{\nu \Delta t}{\Delta x} )．
\end{eqnarray}</p>

<p>Also, if it is assigned the expression \eqref{puB} to the expression \eqref{averrageBB},
\begin{eqnarray}\label{pmB}
2p_u\Delta x+p_m\Delta x=\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}-\frac{\nu \Delta t}{\Delta x}+p_m\Delta x 
\Leftrightarrow p_m\Delta x=2\nu \Delta t-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}<br />
\Leftrightarrow p_m=\frac{2\nu \Delta t}{\Delta x}-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}．
\end{eqnarray}</p>

<p>And if it is substituted the expression \eqref{puB} and the expression \eqref{pmB} into the expression \eqref{SumProB}
\begin{eqnarray}\label{pdB}
p_u+p_m+p_d=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}-\frac{\nu \Delta t}{\Delta x} )+\frac{2\nu \Delta t}{\Delta x}-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+p_d 
=\frac{3}{2}\frac{\nu \Delta t}{\Delta x}-\frac{1}{2}\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+p_d 
\Leftrightarrow p_d=1-\frac{1}{2}( \frac{3\nu \Delta t}{\Delta x}-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2} ) ．
\end{eqnarray}</p>

<p>Therefore from the formula \eqref{ExForPb1},
\begin{eqnarray}
p_u=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}-\frac{\nu \Delta t}{\Delta x} ) 
=\frac{1}{2}( j^2M^2+\frac{1}{3}-(-jM)) 
=\frac{1}{6}-\frac{j^2M^2+jM}{2}．
\end{eqnarray}</p>

<p>\begin{eqnarray}
p_m=\frac{2\nu \Delta t}{\Delta x}-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2} 
=-2jM-(j^2M^2+\frac{1}{3}) 
=\frac{1}{3}-j^2M^2-2jM．
\end{eqnarray}</p>

<p>\begin{eqnarray}
p_d=1-\frac{1}{2}( \frac{3\nu \Delta t}{\Delta x}-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2} ) 
=1-frac{1}{2}( -3jM-j^2M^2-\frac{1}{3}) 
=\frac{7}{6}+\frac{j^2M^2+3jM}{2}．
\end{eqnarray}</p>

<p>Then, the probability corresponding to the downward branching process is derived.</p>

<p>\begin{eqnarray}\label{averrageC}
\mathbb{E}[\Delta x]=p_u(0)+p_m(-\Delta x)+p_d(-2\Delta x)=\nu\Delta t．
\end{eqnarray}
\begin{eqnarray}\label{varianceC}
\mathbb{E}[\Delta x^2]=p_u(0)+p_m(-\Delta x)^2+p_d(-2\Delta x)^2=\sigma^2\Delta t+\nu^2\Delta t^2．
\end{eqnarray}
\begin{eqnarray}\label{SumProC}
p_u+p_m+p_d=1．
\end{eqnarray}</p>

<p>The expression \eqref{averrageC} and the expression \eqref{varianceC} are expanded as follows.
\begin{eqnarray}\label{averrageCC}
-p_m\Delta x-2p_d\Delta x=\nu \Delta t．
\end{eqnarray}
\begin{eqnarray}\label{varianceCC}
p_m\Delta x^2+4p_d\Delta x^2=\sigma^2\Delta t+\nu^2\Delta t^2．
\end{eqnarray}</p>

<p>Add the expression \eqref{varianceCC} multiplied by $\Delta x$ and the expression \eqref{averrageCC},
\begin{eqnarray}\label{pdC}
2p_d\Delta x^2=\nu^2\Delta t^2+\sigma^2\Delta t+\nu \Delta t\Delta x 
p_d=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+\frac{\nu \Delta t}{\Delta x} )．
\end{eqnarray}</p>

<p>Also, if it is assigned the expression \eqref{pdC} to the expression \eqref{averrageCC},
\begin{eqnarray}\label{pmC}
-p_m\Delta x-2p_d\Delta x=-p_m\Delta x-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}-\frac{\nu \Delta t}{\Delta x} 
\Leftrightarrow -p_m\Delta x=2\nu \Delta t+\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}<br />
\Leftrightarrow p_m=-\frac{2\nu \Delta t}{\Delta x}-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}．
\end{eqnarray}</p>

<p>And if it is substituted the expression \eqref{pdC} and the expression \eqref{pmC} into the expression \eqref{SumProC},
\begin{eqnarray}\label{puC}
p_u+p_m+p_d=p_u-\frac{2\nu \Delta t}{\Delta x}-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+\frac{\nu \Delta t}{\Delta x} ) 
=p_u-\frac{3}{2}\frac{\nu \Delta t}{\Delta x}-\frac{1}{2}\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2} 
\Leftrightarrow p_u=1+\frac{3}{2}\frac{\nu \Delta t}{\Delta x}+\frac{1}{2}\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}．
\end{eqnarray}</p>

<p>Therefore from the formula \eqref{ExForPb1},
\begin{eqnarray}
p_d=\frac{1}{2}(\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2}+\frac{\nu \Delta t}{\Delta x} ) 
=\frac{1}{2}( j^2M^2+\frac{1}{3}-jM) 
=\frac{1}{6}-\frac{j^2M^2-jM}{2}．
\end{eqnarray}</p>

<p>\begin{eqnarray}
p_m=-\frac{2\nu \Delta t}{\Delta x}-\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2} 
=2jM-(j^2M^2+\frac{1}{3}) 
=-\frac{1}{3}-j^2M^2+2jM．
\end{eqnarray}</p>

<p>\begin{eqnarray}
p_u=1+\frac{3}{2}\frac{\nu \Delta t}{\Delta x}+\frac{1}{2}\frac{\nu^2\Delta t^2+\sigma^2\Delta t}{\Delta x^2} 
=1+\frac{3}{2}(-jM)+\frac{1}{2}(j^2M^2+\frac{1}{3}) 
=\frac{7}{6}+\frac{j^2M^2-3jM}{2}．
\end{eqnarray}</p>

<p>Finally, the short rate process is introduced into the drift term $a_i$, which fluctuates with time. This drift term is chosen to be consistent with the discount bonds market quoted.
\begin{eqnarray}
P(0,i+1)=\int_{j=BottomNode[i]}^{TopNode[i]}Q_{i,j}e^{(-a_i+j\Delta r)\Delta t}．
\end{eqnarray}</p>

<p>Here, $Q_{i,j}$ is a security that pays $1$ when the node $(i,j)$ is reached, and pays nothing at other times.
Therefore, the drift term $ a_i $ is given as follows.</p>

<p>\begin{eqnarray}
\ln P(0,i+1)=\ln \int_{j=BottomNode[i]}^{TopNode[i]}Q_{i,j}e^{j\Delta r\Delta t}-a_i\Delta t 
\Leftrightarrow a_i\Delta t=\ln \int_{j=BottomNode[i]}^{TopNode[i]}Q_{i,j}e^{j\Delta r\Delta t}-\ln P(0,i+1) 
\Leftrightarrow a_i=\frac{\ln \int_{j=BottomNode[i]}^{TopNode[i]}Q_{i,j}e^{j\Delta r\Delta t}-\ln P(0,i+1)}{\Delta t}．
\end{eqnarray}</p>

<h2 id="hull-and-white-tree-implementation">Hull and White Tree Implementation</h2>

<p>It is given the simplified tree implementation mentioned above. The source code is written in matlab 2016b.</p>
<ul>
  <li>Full of below code is in <a href="https://github.com/kyo1988/Kyo.github.io/blob/gh-pages/scripts%20for%20article/BuildHWF1.m">my GitHub account</a></li>
</ul>

<figure class="highlight"><pre><code class="language-css" data-lang="css"> 
<span class="nf">#container</span> <span class="p">{</span> <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">-240px</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span> <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span> <span class="p">}</span> 
    <span class="nt">for</span> <span class="nt">i</span><span class="o">=</span><span class="err">1</span><span class="nd">:N-1</span> 
        <span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)=</span><span class="nt">sigma</span><span class="o">*</span><span class="nt">sqrt</span><span class="o">(</span><span class="err">3</span><span class="o">.*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i</span><span class="o">)));</span>
    <span class="nt">end</span>
    <span class="nt">for</span> <span class="nt">i</span><span class="o">=</span><span class="err">1</span><span class="nd">:N-1</span> 
        <span class="nt">for</span> <span class="nt">j</span><span class="o">=</span><span class="nt">m</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span><span class="nd">:-1:-m</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span> 
            <span class="nt">M</span><span class="o">=</span><span class="nt">-j</span><span class="o">.*</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">).*</span><span class="nt">a</span><span class="o">*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i</span><span class="o">));</span>
            <span class="nt">V</span><span class="o">=</span><span class="nt">sigma</span><span class="o">.^</span><span class="err">2</span><span class="o">.*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i</span> <span class="o">));</span>
            <span class="nt">k</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">round</span><span class="o">((</span><span class="nt">j</span><span class="o">.*</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">)+</span><span class="nt">M</span><span class="o">)./</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">));</span> 
            <span class="nt">alpha</span><span class="o">=(</span><span class="nt">j</span><span class="o">.*</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">)+</span><span class="nt">M-k</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">).*</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">))./</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">);</span>
            <span class="nt">pu</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">V</span><span class="o">./(</span><span class="err">2</span><span class="o">.*</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">).^</span><span class="err">2</span><span class="o">)+(</span><span class="nt">alpha</span><span class="o">.^</span><span class="err">2</span><span class="o">+</span><span class="nt">alpha</span><span class="o">)./</span><span class="err">2</span><span class="o">;</span>
            <span class="nt">pd</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">V</span><span class="o">./(</span><span class="err">2</span><span class="o">.*</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">).^</span><span class="err">2</span><span class="o">)+(</span><span class="nt">alpha</span><span class="o">.^</span><span class="err">2</span><span class="nt">-alpha</span><span class="o">)./</span><span class="err">2</span><span class="o">;</span> 
            <span class="nt">pm</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="err">1</span><span class="nt">-V</span><span class="o">./(</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">).^</span><span class="err">2</span><span class="o">)</span><span class="nt">-alpha</span><span class="o">.^</span><span class="err">2</span><span class="o">;</span>
        <span class="nt">if</span> <span class="nt">j</span><span class="o">==</span><span class="nt">max</span><span class="o">(</span><span class="nt">m</span><span class="o">(</span><span class="nt">i</span><span class="o">))</span> 
            <span class="nt">m</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)=</span><span class="nt">k</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span><span class="nt">i</span><span class="o">)+</span><span class="err">1</span><span class="o">;</span> 
        <span class="nt">end</span>
        <span class="nt">end</span>
    <span class="nt">end</span>
    <span class="nt">for</span> <span class="nt">i</span><span class="o">=</span><span class="err">1</span><span class="nd">:N-1</span>
        <span class="nt">for</span> <span class="nt">j</span><span class="o">=</span><span class="err">1</span><span class="nd">:m</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span>
            <span class="nt">x</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">x</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">j-1</span><span class="o">,</span> <span class="nt">i</span><span class="o">)</span><span class="nt">-deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">);</span> 
            <span class="nt">x</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">x</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i</span><span class="o">)+</span><span class="nt">deltaX</span><span class="o">(</span><span class="nt">i</span><span class="o">);</span> 
        <span class="nt">end</span>
    <span class="nt">end</span>  
    <span class="nt">for</span> <span class="nt">i</span><span class="o">=</span><span class="err">1</span><span class="nd">:N-1</span> 
        <span class="nt">if</span> <span class="nt">i</span><span class="o">==</span><span class="err">2</span>
            <span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">2</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">pu</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">exp</span><span class="o">(</span><span class="nt">-r</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i-1</span><span class="o">)));</span> 
            <span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">pm</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">exp</span><span class="o">(</span><span class="nt">-r</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i-1</span><span class="o">)));</span> 
            <span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">pd</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">exp</span><span class="o">(</span><span class="nt">-r</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i-1</span><span class="o">)));</span> 
        <span class="nt">elseif</span> <span class="nt">i</span><span class="o">&gt;=</span><span class="err">3</span>
            <span class="nt">for</span> <span class="nt">j</span><span class="o">=</span><span class="nt">m</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span><span class="nd">:-1:-m</span><span class="o">(</span> <span class="nt">i</span> <span class="o">)</span> 
                <span class="nt">for</span> <span class="nt">jj</span><span class="o">=</span><span class="nt">m</span><span class="o">(</span><span class="nt">i-1</span><span class="o">)</span><span class="nd">:-1:-m</span><span class="o">(</span><span class="nt">i-1</span><span class="o">)</span> 
                    <span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)...</span>
                    <span class="o">+</span><span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">pu</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">exp</span><span class="o">(</span><span class="nt">-r</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i-1</span><span class="o">))).*(</span><span class="nt">k</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span><span class="nt">i-1</span><span class="o">)+</span><span class="err">1</span><span class="o">==</span><span class="nt">j</span><span class="o">)...</span>
                    <span class="o">+</span><span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">pm</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">exp</span><span class="o">(</span><span class="nt">-r</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i-1</span><span class="o">))).*(</span><span class="nt">k</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span><span class="nt">i-1</span><span class="o">)==</span><span class="nt">j</span><span class="o">)...</span>
                    <span class="o">+</span><span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">pd</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*</span><span class="nt">exp</span><span class="o">(</span><span class="nt">-r</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span> <span class="nt">i-1</span><span class="o">).*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i-1</span><span class="o">))).*(</span><span class="nt">k</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">jj</span><span class="o">,</span><span class="nt">i-1</span><span class="o">)</span><span class="nt">-1</span><span class="o">==</span><span class="nt">j</span><span class="o">);</span>
                <span class="nt">end</span> 
            <span class="nt">end</span> 
        <span class="nt">end</span>
    <span class="nt">if</span> <span class="nt">i</span><span class="o">==</span><span class="err">1</span>
        <span class="nt">g</span><span class="o">(</span><span class="nt">i</span><span class="o">)=</span><span class="nt">-log</span><span class="o">(</span><span class="nt">P</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">))./(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i</span><span class="o">));</span> 
    <span class="nt">elseif</span> <span class="nt">i</span><span class="o">&gt;=</span><span class="err">2</span> 
        <span class="nt">sum</span><span class="o">=</span><span class="err">0</span><span class="o">;</span> 
        <span class="nt">for</span> <span class="nt">j</span><span class="o">=</span><span class="nt">m</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span> <span class="nd">:-1</span> <span class="nd">:-m</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span> 
            <span class="nt">sum</span><span class="o">=</span><span class="nt">sum</span><span class="o">+</span><span class="nt">Q</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">j</span><span class="o">,</span> <span class="nt">i</span><span class="o">).*</span><span class="nt">exp</span><span class="o">(</span><span class="nt">-x</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="o">+</span><span class="nt">j</span><span class="o">,</span> <span class="nt">i</span><span class="o">).*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i</span><span class="o">)));</span> 
        <span class="nt">end</span> 
            <span class="nt">g</span><span class="o">(</span><span class="nt">i</span><span class="o">)=(</span><span class="nt">log</span><span class="o">(</span><span class="nt">sum</span><span class="o">)</span><span class="nt">-log</span><span class="o">(</span><span class="nt">P</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)))./(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i</span><span class="o">));</span> 
    <span class="nt">end</span>
        <span class="nt">for</span> <span class="nt">j</span><span class="o">=</span><span class="nt">m</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span><span class="nd">:-1:-m</span><span class="o">(</span><span class="nt">i</span><span class="o">)</span>
            <span class="nt">r</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">x</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)+</span><span class="nt">g</span><span class="o">(</span><span class="nt">i</span><span class="o">);</span> 
            <span class="nt">d</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">)=</span><span class="nt">exp</span><span class="o">(</span><span class="nt">-r</span><span class="o">(</span><span class="nt">N</span><span class="o">+</span><span class="err">1</span><span class="nt">-j</span><span class="o">,</span> <span class="nt">i</span><span class="o">).*(</span><span class="nt">t</span><span class="o">(</span><span class="nt">i</span><span class="o">+</span><span class="err">1</span><span class="o">)</span><span class="nt">-t</span><span class="o">(</span><span class="nt">i</span><span class="o">)));</span> 
        <span class="nt">end</span> 
    <span class="nt">end</span></code></pre></figure>

<h2 id="reference">Reference</h2>
<ul>
  <li>Hull, J. and A. White, 1994. “Numerical procedures for implementing term structure models I:Single-Factor Models,’’ Journal of Derivatives, 2, 1 (Fall 1994a) 7−16</li>
  <li>Strickland, C. and Clewlow, L., 1998. Implementing Derivatives Models</li>
  <li>Shreve, S., 2004. Stochastic Calculus for Finance II: Continuous-Time Models</li>
</ul>]]></content><author><name>Kyo Harada</name></author><category term="Business" /><category term="Finance" /><category term="Business Finance" /><summary type="html"><![CDATA[This is a modified version of the report for semminar at a financial consulting firm in 2018.]]></summary></entry><entry><title type="html">Derivation of Black-Scholes PDE and its analytical solution by arbitrage pricing theory</title><link href="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/06/03/derivation-of-black-scholes-pde-and-its-analytical-solution-by-arbitrage-pricing-theory.html" rel="alternate" type="text/html" title="Derivation of Black-Scholes PDE and its analytical solution by arbitrage pricing theory" /><published>2021-06-03T00:00:00+09:00</published><updated>2021-06-03T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/business/finance/2021/06/03/derivation-of-black-scholes-pde-and-its-analytical-solution-by-arbitrage-pricing-theory</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/06/03/derivation-of-black-scholes-pde-and-its-analytical-solution-by-arbitrage-pricing-theory.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#derivation-of-black-scholes-pde-and-its-analytical-solution-by-arbitrage-pricing-theory" id="markdown-toc-derivation-of-black-scholes-pde-and-its-analytical-solution-by-arbitrage-pricing-theory">Derivation of Black-Scholes PDE and its analytical solution by arbitrage pricing theory</a>    <ul>
      <li><a href="#necessary-and-sufficient-condition-to-duplicate-the-portfolio-which-does-fully-hedge-the-option-sell-position" id="markdown-toc-necessary-and-sufficient-condition-to-duplicate-the-portfolio-which-does-fully-hedge-the-option-sell-position">Necessary and sufficient condition to duplicate the portfolio, which does fully hedge the option sell position</a></li>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<h1 id="derivation-of-black-scholes-pde-and-its-analytical-solution-by-arbitrage-pricing-theory">Derivation of Black-Scholes PDE and its analytical solution by arbitrage pricing theory</h1>

<p>In general, when the underlying asset price is given by a stochastic differential equation, the price of the derivative product is given by a partial differential equation. In this paper, it will be derived from the Black-Scholes PDE corresponding to the derivative (here, option) price valuation of the underlying asset (here, stock) modeled as the geometric Brownian motion. The valuation of an option is given by determining the initial funding needed to fully hedge the selling position of the option. Since the determined initial fund is the amount required to build a duplicate portfolio, it is called the no arbitrage price at time zero of the option. The price valuation method that duplicates options in stock market and money market account transactions is called arbitrage pricing theory (APT).</p>

<p>Suppose it is given a portfolio valued at $X(t)$ at any time $t$. Here, the composition of the given portfolio is as follows.</p>

<ul>
  <li>money-market account with interest rate $r$</li>
  <li>A stock modeled by the geometric Brownian motion expressed by the following equation</li>
</ul>

<p>\begin{eqnarray}\label{stockPrice}
dS(t)=\alpha S(t)dt+\sigma S(t)dW(t)．
\end{eqnarray}</p>

<p>Here, it is assumed that the investor who holds the given portfolio holds the stock in the unit of $\Delta(t)$ at any time $t$. At this time, it is assumed that the number of shares held $\Delta(t)$ is an ‘adapted stochastic process’. The remainder of the portfolio excluding the investment in stocks, $X(t)-\Delta(t)S(t)$, is invested in the money market account.
Here, the small change $dX(t)$ of the portfolio value $X(t)$ at any time $t$ results in the following two factors.</p>

<ul>
  <li>Profit from holding shares $\Delta(t)dS(t)$</li>
  <li>Profit from holding cash $r(X(t)-\Delta(t)S(t))dt$</li>
</ul>

<p>That is, the small change in portfolio value $dX(t)$ is given by the following equation.</p>

<p>\begin{eqnarray}\label{portDiff}
dX(t)=\Delta(t)dS(t)+r(X(t)-\Delta(t)S(t))dt．
\end{eqnarray}</p>

<p>The equation \eqref{portDiff} is expanded as follows from the stochastic differential equation \eqref{stockPrice} of a given stock price.
\begin{eqnarray}\label{portDiff2}
dX(t)=\Delta(t)dS(t)+r(X(t)-\Delta(t)S(t))dt　
=\Delta(t)( \alpha S(t)dt+\sigma S(t)dW(t) )+r(X(t)-\Delta(t)S(t))dt
=rX(t)dt+\Delta(t)( \alpha -r )S(t)dt+\Delta(t)\sigma S(t)dW(t)．
\end{eqnarray}</p>

<p>Here, the three terms appearing in the small change $dX(t) in portfolio value $\eqref{portDiff2} expanded by the given stock price of the stochastic differential equation \eqref{stockPrice} can be interpreted as follows.</p>

<ul>
  <li>$rX(t)dt$: A term that reflects the profit from the expected rate of return of the portfolio $r$</li>
  <li>$\Delta(t)( \alpha -r )S(t)dt$: A term that reflects the risk premium on equity investments $\alpha-r$</li>
  <li>$\Delta(t)\sigma S(t)dW(t)$: Volatility term proportional to the size of equity investment</li>
</ul>

<p>Then, consider the discounted stock price $\mathrm{e}^{-rt} S(t)$ and the discounted portfolio value $\mathrm{e}^{-rt}X(t)$. In order to analyze these price processes, it should be noted that they are different from ordinary analysis due to the nature of the geometric Brownian motion that appeared as a model of stock prices. This property means that Brownian motion has a non-zero quadratic variation, which, as it will be seen later, is the source of the volatility term of the Black-Scholes PDE.
In other words, to differentiate an expression expressed in the form of $f(W(t))$ with $f(x)$ as a differentiable function and $W(t)$ as the Brown motion. If Brown motion $W(t)$ is differentiable, the following equation holds from ordinary analysis by the chain rule of the composite function.</p>

<p>\begin{eqnarray}
\frac{d}{dt}f(W(t))=f’(W(t))W’(t) \Leftrightarrow df(W(t))=f’(W(t))W’(t)dt=f’(W(t))dW(t)．
\end{eqnarray}</p>

<p>However, since Brownian motion accumulates a quadratic variation of 1 per unit time $(dWdW = dt)$, the derivative of $f(W(t))$ has a correction term shown in the following equation.</p>

<p>\begin{eqnarray}\label{ItoFormDiff}
df(W(t))=f’(W(t))dW(t)+\frac{1}{2}f’‘(W(t))dt．
\end{eqnarray}</p>

<p>The formula \eqref{ItoFormDiff} is called Ito’s formula in differential form. The equation \eqref{ItoFormDiff} is an equation obtained by differentiating Ito’s formula \eqref{ItoForm} for the Brownian motion shown below.</p>

<ul>
  <li>Ito’s formula for Brownian motion</li>
</ul>

<p>Partial differentiation of $f(t, x)$, $f_ {t}(t, x)$, $f_{x}(t, x)$, $f_ {xx}(t, x)$ is defined and continuous. Let $W(t)$ be the Brownian motion. At this time, the following equation holds for all $T \geq0$.</p>

<p>\begin{eqnarray}\label{ItoForm}
f(T，W(T))=f(0，W(0))+\int_{0}^{T}f_{t}(t，W(t))dt+\int_{0}^{T}f_{x}(t，W(t))dW(t)+\frac{1}{2}\int_{0}^{T}f_{xx}(t，W(t))dt．
\end{eqnarray}</p>

<p>Where the third term of the expression \eqref{ItoForm} $\int_{0}^{T}f_{x}(t, W(t)) dW(t)$ is called Ito integral, and the second and fourth terms are Lebesgue integrals for variables of time. Ito’s formula can be extended to general stochastic processes including the Brown process, excluding jump process. This stochastic process is called the Ito process $dX(t)=a(t)dW(t)+b(t)dt$, which accumulate the quadratic variation of $a^{2}(t)$ per unit time. It is assumed that $a(t)$ and $b(t)$ are adapted stochastic processes.</p>

<ul>
  <li>Ito’s formula for the Ito process</li>
</ul>

<p>Let $X(t)$ be the Ito process, and $f(t, x)$ be the partial derivative $f_{t}(t, x)$, $f_{x}(t, x)$, $f_{xx}(t, x)$ be a defined and continuous function, and let $W(t)$ be Brownian motion. At this time, the following equation holds for all $T \geq 0$.</p>

<p>\begin{eqnarray}\label{ItoFormII}
f(T，X(T))=f(0，X(0))+\int_{0}^{T}f_{t}(t，X(t))dt+\int_{0}^{T}f_{x}(t，X(t))dX(t)+\frac{1}{2}\int_{0}^{T}f_{xx}(t，X(t))a^{2}(t)dt．
\end{eqnarray}</p>

<p>Therefore, the derivative of the discounted stock price $\mathrm{e}^{-rt} S(t)$ is $f(t, x) = \mathrm{e}^{-rt} x$ which is gotten to apply Ito’s formula \eqref{ItoForm}. In the following, it is used that $f_{t} (t, x )=-r \mathrm{e}^{-rt} x$, $ f_{x}  (t, x )=\, mathrm{e}^{-rt}$, $f_{xx} (t, x )=0 $.</p>

<p>\begin{eqnarray}\label{DiscountStockPrice}
d( \mathrm{e}^{-rt}S(t) )=df(t，S(t)) =f_{t}(t，S(t))dt+f_{x}(t，S(t))dS(t)+f_{xx}(t，S(t))dt=-r\mathrm{e}^{-rt}S(t)dt+\mathrm{e}^{-rt}dS(t) =-r\mathrm{e}^{-rt}S(t)dt+\mathrm{e}^{-rt}( \alpha S(t)dt+\sigma S(t)dW(t))=(\alpha-r)\mathrm{e}^{-rt}S(t)dt+\sigma\mathrm{e}^{-rt}S(t)dW(t)
\end{eqnarray}</p>

<p>Similarly, the derivative of the discounted portfolio value $\mathrm{e}^{-rt} X(t)$ is given by</p>

<p>\begin{eqnarray}\label{DiscountPort}
d( \mathrm{e}^{-rt}X(t) )=df(t，X(t))=f_{t}(t，X(t))dt+f_{x}(t，X(t))dX(t)+\frac{1}{2}f_{xx}(t，X(t))dt=-r\mathrm{e}^{-rt}X(t)dt+\mathrm{e}^{-rt}dX(t) =-r\mathrm{e}^{-rt}X(t)dt+\mathrm{e}^{-rt}( \Delta(t)dS(t)+r(X(t)-\Delta(t)S(t))dt)=\Delta(t)(\alpha-r)\mathrm{e}^{-rt}S(t)dt+\Delta(t)\sigma\mathrm{e}^{-rt}S(t)dW(t)=\Delta(t)d(\mathrm{e}^{-rt}S(t))．
\end{eqnarray}</p>

<p>In this way, the formula \eqref{DiscountPort} is obtained by the discounted stock price $S(t)$ and the portfolio value $X(t)$ at the discount rate $\mathrm{e}^{-rt}$ with the interest rate $r$ of the money market account. The formula \eqref{DiscountPort} indicates that small change in the discount portfolio value $d(\mathrm{e}^{-rt}X(t))$ depends only on a small change in the discounted stock price $d(\mathrm{e}^{-rt}S(t))$.</p>

<p>Consider a European call option where the payment on the maturity date $T$ is $(S(T)-K )^{+}$. Here, the strike price $K$ is assumed to be a non-negative constant.
Fischer Black, Myron Scholes and Robert Cox Merton argued that the value of European call option on maturity $T$ with payment $(S(T) -K )^{+}$ at any time $t$ depends on the length of time to maturity, the value of the stock price $S(t)$ at time $t$, the model parameters $r, \sigma$ and the strike price $K$.</p>

<p>Since the model parameters $r, \sigma$ and the strike price $K$ are assumed to be constants, among the variables that affect the price evaluation of the European call option, only the time $t$ and the stock price $S(t)$ are  changed.</p>

<p>Here, according to the inference of Fischer Black et al, let the value of the European call option be $c(t, x)$ when the stock price is $S(t) = x$ at time $t$. Since the stock price $S(t)$ follows the stochastic differential equation \eqref{stockPrice}, the value of the European call option is also stochastic.</p>

<p>Therefore, the value of the European call option is the stochastic process $c(t, S(t))$ obtained by replacing the stochastic process $S(t)$ with the parameter $x$. At the initial time, the future stock price $S(t)$ is unknown because it is probabilistic, then the value $c(t, S(t))$ of the future European call option is also unknown. Therefore, if the function $c(t, x)$ is determined, the value of the future European call option $c(t, S(t))$ is expressed by the future stock price $S(t)$.</p>

<p>To duplicate a portfolio which does full hedge the option sell position, it is required to fit the value of the duplicate portfolio $X(t)$ at any time $t\in[0, T]$ in the value of future European call options $c(t, S(t))$ starting with a certain initial fund of $X(0)$ and investing in the stock market and money market accounts.</p>

<p>The necessary and sufficient conditions for constructing this replication portfolio are $\ mathrm{e}^{-rt}X(t)=\mathrm{e}^{-rt} c(t, S (t))$ for any time $t \in[0, T]$. To show that the necessary and sufficient conditions are met,</p>

<p>\begin{eqnarray}\label{IsCopyPort}
d(\mathrm{e}^{-rt}X(t))=d(\mathrm{e}^{-rt}c(t，S(t)))，t\in[0，T)
\end{eqnarray}</p>

<p>And show that $X(0) = c(0, S(0))$ holds. In fact, the following equation is obtained by integrating the equation \eqref{IsCopyPort} from 0 to $t$.</p>

<p>\begin{eqnarray}
\mathrm{e}^{-rt}X(t)-X(0)=\mathrm{e}^{-rt}c(t，S(t))-c(0，S(0))，t\in[0，T)
\end{eqnarray}</p>

<p>At this time, if $X(0)=c(0,S(0))$, then it is obtained the necessary and sufficient conditional expression $\mathrm{e}^{-rt}X(t)=\mathrm{e}^{-rt}c(t,S(t))$.</p>

<h2 id="necessary-and-sufficient-condition-to-duplicate-the-portfolio-which-does-fully-hedge-the-option-sell-position">Necessary and sufficient condition to duplicate the portfolio, which does fully hedge the option sell position</h2>

<p>To expand the right-hand side \eqref{IsCopyPort}, it is required to calculate the derivative of discount option price $\mathrm{e}^{-rt} c(t, S (t, S) t))$. To do this, it is needed to calculate the derivative of the option price $c(t, S(t))$. From Ito’s formula for the Ito process \eqref{ItoFormII} and the given stock price stochastic differential equation \eqref{stockPrice}</p>

<p>\begin{eqnarray}
dc(t，S(t))=c_{t}(t，S(t))dt+c_{x}(t，S(t))dS(t)+\frac{1}{2}c_{xx}(t，S(t))(\sigma S(t))^{2}dt=c_{t}(t，S(t))dt+c_{x}(t，S(t))( \alpha S(t)dt+\sigma S(t)dW(t) )+\frac{1}{2}c_{xx}(t，S(t))(\sigma S(t))^{2}dt=( c_{t}(t，S(t))dt+\alpha c_{x}(t，S(t))+\frac{1}{2}\sigma^{2} S^{2}(t)c_{xx}(t，S(t)))dt+\sigma S(t)c_{x}(t，S(t))dW(t)．
\end{eqnarray}</p>

<p>It is calculated the derivative of discount option price $\mathrm{e}^{-rt} c (t)$ by Ito’s formula \eqref{ItoFormII} for the Ito process as $f(t, x)=\mathrm{e}^{-rt}x,S(t))$. In the following, it is used that $f_{t}(t,x)=-r\mathrm{e}^{-rt}x$, $f_{x}(t,x)=\mathrm{e}^{-rt}$, $f_{xx}(t,x)=0$.</p>

<p>\begin{eqnarray}\label{expandCallDis}
d(\mathrm{e}^{-rt}c(t，S(t)))=df(t，c(t，S(t)))=f_{t}(t，c(t，S(t)))dt+f_{x}(t，c(t，S(t)))dc(t，S(t))+\frac{1}{2}f_{xx}(t，c(t，S(t)) (\sigma S(t)c_{x}(t，S(t)))^{2}dt=-r\mathrm{e}^{-rt}c(t，S(t))+\mathrm{e}^{-rt} dc(t，S(t))=\mathrm{e}^{-rt}(-rc(t，S(t))+c_{t}(t，S(t))+\alpha c_{x}(t，S(t))+\frac{1}{2}\sigma^{2} S^{2}(t)c_{xx}(t，S(t)))dt+\mathrm{e}^{-rt}\sigma S(t)c_{x}(t，S(t))dW(t)．
\end{eqnarray}</p>

<p>It is given the following equation to expand the right-hand side of \eqref{IsCopyPort} with the formula \eqref{expandCallDis} and the left-hand side with the formula \eqref{DiscountPort}.</p>

<p>\begin{eqnarray}\label{expandCopyPort}
\Delta(t)(\alpha-r)S(t)dt+\Delta(t)\sigma S(t)dW(t)=( -rc(t，S(t))+c_{t}(t，S(t))+\alpha c_{x}(t，S(t))+\frac{1}{2}\sigma^{2} S^{2}(t)c_{xx}(t，S(t)))dt+\sigma S(t)c_{x}(t，S(t))dW(t)．
\end{eqnarray}</p>

<p>If the expansion formula \eqref{expandCopyPort}, which is a necessary and sufficient condition for replicating a portfolio that completely hedges an option’s sell position, holds, the coefficients on both sides must be matched. Therefore, since the coefficients on both sides of $dW(t)$ are equal, the following equation is obtained.</p>

<p>\begin{eqnarray}\label{deltaHedging}
\Delta(t)=c_{x}(t，S(t))，t\in[0，T)
\end{eqnarray}</p>

<p>The number of shares held to fully hedge the option’s sell position at any time $t$ before maturity is the partial derivative of the option value at time $t$ with respect to the stock price $c_{x}(t, S(t))$. The relational expression \eqref{deltaHedging} of $\Delta(t)$ is called the delta-hedging rule because it is called the optional delta.</p>

<p>Since the coefficients on both sides of $dt$ are also equal, the following equation holds for any time $t\in[0, T)$ from the relational expression \eqref{deltaHedging} of $\Delta(t)$.</p>

<p>\begin{eqnarray}\label{expandCopyPortForT}
(\alpha-r)S(t)c_{x}(t，S(t))
=-rc(t，S(t))+c_{t}(t，S(t))+\alpha c_{x}(t，S(t))+\frac{1}{2}\sigma^{2} S^{2}(t)c_{xx}(t，S(t))
\end{eqnarray}</p>

<p>Since $\alpha c_{x}(t,S(t))$ term appears on both sides of the expression \eqref{expandCopyPortForT} for any time $t\in[0, T)$, it is obtained the following equation to extract this term.</p>

<p>\begin{eqnarray}\label{PreBlackScholes}
rc(t，S(t))=c_{t}(t，S(t))+rS(t)c_{x}(t，S(t))+\frac{1}{2}\sigma^{2} S^{2}(t)c_{xx}(t，S(t))
\end{eqnarray}</p>

<p>Here, if the value of the European call option when the stock price is $S(t) = x$ at time $t$ is $c(t, x)$, then it is obtained the partial differential equation of Black-Scholes from the equation \eqref{PreBlackScholes}.</p>

<p>\begin{eqnarray}\label{BlackScholes}
c_{t}(t，x)+rxc_{x}(t，x)\frac{1}{2}\sigma^{2} x^{2}c_{xx}(t，x)=rc(t，x)，t\in[0，T)，x\geq0
\end{eqnarray}</p>

<p>In addition to satisfying the equation \eqref{BlackScholes}, the function $c(t, x)$ must also satisfy the boundary conditions shown in the following equation.</p>

<p>\begin{eqnarray}\label{BoundaryCondtion}
c(T，x)=(x-K)^{+}，c(t，0)=0，\lim_{x \to \infty}[c(t，x)-(x-\mathrm{e}^{-r( T-t )}K)]=0
\end{eqnarray}</p>

<p>In fact, the first equation of the expression \eqref{BoundaryCondtion} follows from the definition of the European call option.</p>

<p>The second equation is that when $x=0$ is substituted into the Black-Scholes partial differential equation \eqref{BlackScholes}, it is obtained the ordinary differential equation $c_{t}(t,0)=rc(t,0)$ for the function $c(t, 0)$ at time $t$ and then it is obtained its solution $c(t,0)=\mathrm{e}^{rt}$ is substituted $t=T$ for $c(0,0)$, which results in $c(T,0)=(0-K)^{+}=0$, $C(0,0)=0$.</p>

<p>In the third equation, ‘Put/Call Parity’ holds because it is likely to end with ‘In the money’ for European call options for very large $x$ and the value of the forward contract is almost equal to $x-\mathrm{e}^{-r (Tt )}K$.</p>

<p>In order to obtain an analytical solution of the Black-Scholes PDE \eqref{BlackScholes}, it is reduced by change of variables to a PDE whose exact solution is known. Therefore, two variables $u$ and $v$ are defined by the following equation, which are introduced for this purpose.</p>

<p>\begin{eqnarray}\label{val1}
u=\log \frac{x}{K}+(r-\frac{\sigma^{2}}{2})(T-t) 
v=T-t
\end{eqnarray}</p>

<p>Here, using the variables $u$ and $v$ defined in the expression \eqref{val1}, the function $c(t, x)$ is converted into two functions $\mathrm{e}^{-rv}$ and $y (u, v )$ as shown in the following expression.</p>

<p>\begin{eqnarray}\label{val2}
c(t，x)=\mathrm{e}^{-rv}y(u，v)．
\end{eqnarray}</p>

<p>Substituting the equation \eqref{val2} into the partial differential equation \eqref{BlackScholes} of Black-Scholes and rearranging it gives the following equation.</p>

<p>\begin{eqnarray}\label{HeatConductionEquation}
y_{u u}(u，v)-\frac{2}{\sigma^{2}}y_{v}(u，v)=0．
\end{eqnarray}</p>

<p>The equation \eqref{HeatConductionEquation} is a known partial differential equation with an exact solution called the heat conduction equation. Here, the boundary condition is changed by variable transformation.</p>

<p>$c(t，x)=$
$x-K\cdots x\geq K$
$0\cdots x \lt K$</p>

<p>Note that the following conditions have changed.</p>

<p>$y(u，0)=$
$K( \mathrm{e}^{u}-1 )\cdots u\geq 0$
$0\cdots u \lt 0$</p>

<p>It is known that the heat conduction equation \eqref{HeatConductionEquation} is solved by the separation of variables method. The separation of variables method means that the solution $y(u,v)$ is expressed as the product of two functions $p(u)$ and $q(v)$.</p>

<p>\begin{eqnarray}\label{val3}
y(u，v)=p(u)q(v)．
\end{eqnarray}</p>

<p>Substituting the equation \eqref{val3} into the heat conduction equation \eqref{HeatConductionEquation} and rearranging it gives the following equation.</p>

<p>\begin{eqnarray}\label{SeparationVariables}
\frac{p_{u u}(u)}{p(u)}=\frac{2}{\sigma^{2}}\frac{q_{v}(v)}{q(v)}．
\end{eqnarray}</p>

<p>Focusing on both sides of the obtained equation \eqref{SeparationVariables}, the left side is a function of only $u$ and the right side is a function of only $v$, then constants irrelevant to $u$ and $v$, which is $-k^{2}(0\leq k\lt \infty)$. Therefore, finding the solution of the heat conduction equation \eqref{HeatConductionEquation} results in the problem of solving the following two ordinary differential equations.</p>

<ul>
  <li>$\dfrac{p_{u u}(u)}{p(u)}=-k^{2}$</li>
  <li>$\dfrac{2}{\sigma^{2}}\dfrac{q_{v}(v)}{q(v)}=-k^{2}$</li>
</ul>

<p>The first equation is a second-order ordinary differential equation with constant coefficients, then if the coefficients are constants $C(k)$ and $D(k)$ with respect to constants $k$ irrelevant to $u$ and $v$, the solution is given by the following equation.</p>

<p>\begin{eqnarray}\label{ODE1Sol}
p(u)=C(k)\sin( ku ) +D(k)\cos( ku ) ．
\end{eqnarray}</p>

<p>Since the second equation is a variable separable ordinary differential equation, if the coefficients are the constant $E(k)$ for the constant $k$ irrelevant to $u$ and $v$, the solution is given by the following equation.</p>

<p>\begin{eqnarray}\label{ODE2Sol}
q(v)=E(k)\exp( -\frac{\sigma^{2}k^{2}}{2}v ) ．
\end{eqnarray}</p>

<p>Therefore, the solution $y (u, v )$ of the heat conduction equation \eqref{HeatConductionEquation} is a constant $k (0\leq k \lt \infty )$ irrelevant to $u$ and $v$. Then all are superposed to obtain the general solution shown in the following equation.</p>

<p>\begin{eqnarray}\label{HeatConductionEquationSol}
y(u，v)=\int_{0}^{+\infty}( C(k)\sin( ku ) +D(k)\cos( ku ) )\exp( -\frac{\sigma^{2}k^{2}}{2}v )dk．
\end{eqnarray}</p>

<p>Here, the coefficients $C(k)$ and $D(k)$ of the equation \eqref{HeatConductionEquationSol} are given by the following equation from Fourier’s integral theorem as $y(u,0)=g(a)$.</p>

<p>\begin{eqnarray}\label{FourierCoefficient}
C(k)=\frac{1}{\pi}\int_{-\infty}^{+\infty}g(a)\cos (ka) da
\end{eqnarray}
\begin{eqnarray}\label{FourierCoefficient2}
D(k)=\frac{1}{\pi}\int_{-\infty}^{+\infty}g(a)\sin (ka) da
\end{eqnarray}</p>

<p>Substituting the obtained equation of coefficients \eqref{FourierCoefficient} and \eqref{FourierCoefficient2} into the solution \eqref{HeatConductionEquationSol} of the heat conduction equation \eqref{HeatConductionEquation} and rearranging it gives the following equation.</p>

<p>\begin{eqnarray}\label{HeatConductionEquationSol2}
y(u，v)=\dfrac{1}{\sigma \sqrt[]{\mathstrut 2 \pi v}} \int_{-\infty}^{+\infty}g(a)\exp( -\dfrac{1}{2}(\dfrac{a-u}{\sigma \sqrt[]{\mathstrut v}})^{2} ) da．
\end{eqnarray}</p>

<p>For further analysis, the change of variables is performed again as follows. 
\begin{eqnarray}\label{}
w=\dfrac{a-u}{\sigma \sqrt[]{\mathstrut v}}．
\end{eqnarray}</p>

<p>Note that the boundary conditions have changed to the following conditions due to the change of variables.</p>

<p>$g(a)=g( u+\sigma \sqrt[]{\mathstrut v}w )=$</p>

<p>$K( \mathrm{e}^{u+\sigma \sqrt[]{\mathstrut v}w}-1 )\cdots w\geq -\dfrac{u}{\sigma \sqrt[]{\mathstrut v}}$</p>

<p>Or $0\cdots w \lt -\dfrac{u}{\sigma \sqrt[]{\mathstrut v}}$</p>

<p>Focusing on the change of variables by $w$ and the changed boundary conditions, the equation \eqref{HeatConductionEquationSol2} is expanded as follows.</p>

<p>\begin{eqnarray}\label{HeatConductionEquationSol3}
y(u，v)=\dfrac{1}{\sqrt[]{\mathstrut 2 \pi}} \int_{-\dfrac{u}{\sigma \sqrt[]{\mathstrut v}}}^{+\infty}K( \exp(u+\sigma \sqrt[]{\mathstrut v}w)-1 )\exp( -\dfrac{w^{2}}{2} )dw
=\dfrac{1}{\sqrt[]{\mathstrut 2 \pi}} \int_{-\frac{u}{\sigma \sqrt[]{\mathstrut v}}}^{+\infty}K\exp(u+\sigma \sqrt[]{\mathstrut v}w-\dfrac{w^{2}}{2}) dw-\dfrac{1}{\sqrt[]{\mathstrut 2 \pi}} \int_{-\frac{u}{\sigma \sqrt[]{\mathstrut v}}}^{+\infty} K \exp(-\dfrac{w^{2}}{2})dw．
\end{eqnarray}</p>

<p>Furthermore, if the first term on the right side of the equation \eqref{HeatConductionEquationSol3} is replaced with $z = w- \sigma \sqrt[]{\mathstrut v}$ and the second term is replaced with $z = w$, the following equation is obtained.</p>

<p>\begin{eqnarray}\label{HeatConductionEquationSol4}
y(u，v)=x\exp(rv) \dfrac{1}{ \sqrt[]{\mathstrut 2 \pi}} \int_{-\frac{u}{\sigma \sqrt[]{\mathstrut v}}^{+\infty}-\sigma \sqrt[]{\mathstrut v}}\exp( -\dfrac{z^{2}}{2} ) dz-K\dfrac{1}{ \sqrt[]{\mathstrut 2 \pi}} \int_{-\frac{u}{\sigma \sqrt[]{\mathstrut v}}}^{+\infty}\exp( -\dfrac{z^{2}}{2} ) dz
=x\exp(rv)N(\frac{u}{\sigma \sqrt[]{\mathstrut v}}+\sigma \sqrt[]{\mathstrut v})-KN( \frac{u}{\sigma \sqrt[]{\mathstrut v}})．
\end{eqnarray}</p>

<p>Finally, by substituting the obtained equation \eqref{HeatConductionEquationSol4} into the solution of the Black-Scholes PDE \eqref{val2} is obtained as an analytical solution of the Black-Scholes PDE, which is a function that satisfies the Black-Scholes PDE.</p>

<p>\begin{eqnarray}\label
c(t，x)=xN(\frac{u}{\sigma \sqrt[]{\mathstrut v}} + \sigma \sqrt[]{\mathstrut v} ) -K \exp(-rv)N(\frac{u}{\sigma \sqrt[]{\mathstrut v}})
\end{eqnarray}</p>

<p>However,</p>

<p>$u=\log \frac{x}{K}+(r-\frac{\sigma^{2}}{2})(T-t)$</p>

<p>$v=T-t$</p>

<h2 id="reference">Reference</h2>
<ul>
  <li>Shreve, S., 2004. Stochastic Calculus for Finance II: Continuous-Time Models</li>
  <li>Ishimura, S., 2008. Black Shoals differential equations for finance and securities (In Japanese)</li>
</ul>]]></content><author><name>Kyo Harada</name></author><category term="Business" /><category term="Finance" /><category term="Business Finance" /><summary type="html"><![CDATA[This is a modified version of the report for semminar at a financial consulting firm in 2016.]]></summary></entry><entry><title type="html">Derivation of yield curve construction formula with tenor basis spread</title><link href="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/31/derivation-of-yield-curve-construction-formula-with-tenor-basis-spread.html" rel="alternate" type="text/html" title="Derivation of yield curve construction formula with tenor basis spread" /><published>2021-05-31T00:00:00+09:00</published><updated>2021-05-31T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/31/derivation-of-yield-curve-construction-formula-with-tenor-basis-spread</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/31/derivation-of-yield-curve-construction-formula-with-tenor-basis-spread.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#derivation-of-yield-curve-construction-formula-with-tenor-basis-spread" id="markdown-toc-derivation-of-yield-curve-construction-formula-with-tenor-basis-spread">Derivation of yield curve construction formula with tenor basis spread</a>    <ul>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<h1 id="derivation-of-yield-curve-construction-formula-with-tenor-basis-spread">Derivation of yield curve construction formula with tenor basis spread</h1>

<p>If LIBOR is truly risk-free, the swap of 3-month LIBOR and 6-month LIBOR should be tradable with zero spread. However, LIBOR takes into account the credit risk of banks, and tenor swaps are exactly the transactions that swap the risk of 3-month LIBOR and 6-month LIBOR. After the financial crisis, the risk of bankruptcy, that is, the difference in tenor, was conscious, and when swap 3-month LIBOR and 6-month LIBOR, the 3-month LIBOR side began to trade with a non-negligible spread.</p>

<p>After all, after supplementing the discount factor and tenor spread in 0.25 year increments, the future 3-month LIBOR can be calculated as follows (Nakahara, 2013).</p>

<p>\begin{eqnarray}
L_{forward}^{3MWorld}(t,t_{i},t_{i+0.25})=\frac{1-DF(t,t_{i+0.25})-TS^{3M-6M}(t,t_{i+0.25})\times\sum_{j=1}^{4i+1}{DF(t,t_{\frac{j}{4}})\times\frac{1}{4}}}{DF(t,t_{i+0.25})\times\frac{1}{4}}+\frac{-\sum_{j=1}^{4i}{L_{forward}^{3MWorld}(t,t_{\frac{j-1}{4}},t_{\frac{j}{4}})\times DF(t,t_{\frac{j}{4}})\times\frac{1}{4}}}{DF(t,t_{i+0.25})\times\frac{1}{4}}．
\end{eqnarray}</p>

<p>However,</p>

<ul>
  <li>$L(t,T)$: Observable LIBOR at time point $t$ maturity $T$</li>
  <li>$L_{forward}^{3MWorld}(t,t_{0},t_{0.25})=L(t,t_{0.25})$</li>
  <li>$L_{forward}^{3MWorld}(t,t_{i},t_{i+0.25})$: A 3-month LIBOR with a reset date of $t_{i}$ and a maturity of $t_{i+0.25}$ as seen from the point in time $t$</li>
  <li>$TS^{3M-6M}(t,T)$: Tenor spread when swapping 6-month LIBOR for 3-month LIBOR at time $t$ and maturity $T$</li>
</ul>

<p>In this article, we try to derive the equation (1). 
At this time, the evaluation formula of the JPY tenor swap is expressed as follows (Takahashi, 2010)．</p>

<p>\begin{eqnarray}
\sum_{n=1}^{N}\delta_{n}(E_{t}[L(T_{n-1},T_{n}+\tau_{N}]P_{t,T_{n}})=\sum_{m=1}^{M}\delta_{m}E_{t}[L(T_{m-1},T_{m}]P_{t,T_{m}}．
\end{eqnarray}</p>

<p>However,</p>

<ul>
  <li>$N=2M$</li>
  <li>$L(T_{n-1},T_{n})$: LIBOR with a reset date of $T_{n-1}$ and a maturity of $T_{n}$</li>
  <li>$P_{t,T_{n}}$: Zero coupon bond price with maturity of $t$ at time $ T_{n}$</li>
  <li>$\delta_{n}$: Interest calculation period</li>
  <li>$\tau_{N}$: Tenor spread when swapping 6-month LIBOR for 3-month LIBOR at time $t$ and maturity of $T (= T_{N} = T_{M})$</li>
</ul>

<p>Now, we want to derive 3 months LIBOR, that is, $E_{t}[L(T_{N-1}, T_{N}]$, therefore expand the left side of the expression (2) as follows.</p>

<p>\begin{eqnarray}
\sum_{n=1}^{N}\delta_{n}(E_{t}[L(T_{n-1},T_{n}+\tau_{N}]P_{t,T_{n}})=\sum_{n=1}^{N-1}\delta_{n}(E_{t}[L(T_{n-1},T_{n})]P_{t,T_{n}}+\delta_{N}E_{t}[L(T_{N-1},T_{N})]P_{t,T_{N}}+\sum_{n=1}^{N}\delta_{n}\tau_{N}P_{t,T_{n}}．
\end{eqnarray}</p>

<p>On the other hand, the relationship between Libor and the discount rate is</p>

<p>\begin{eqnarray}
E_{t}[L(T_{m-1},T_{m})]=\frac{1}{\delta_{n}}\left(\frac{P_{t,T_{m-1}}}{P_{t,T_{n}}}-1\right)．
\end{eqnarray}</p>

<p>Since it is represented by, the left side of the expression \label{tenor} can be expanded as follows.</p>

<p>\begin{eqnarray}
\sum_{m=1}^{M}\delta_{m}E_{t}[L(T_{m-1},T_{m}]P_{t,T_{m}}=P_{t,T_{0}}-P_{t,T_{M}}=1-P_{t,T_{M}}．
\end{eqnarray}</p>

<p>After all, JPY 3 months LIBOR, ie $E_{t} [L(T_{N-1},T_{N}]$, is given below.</p>

<p>\begin{eqnarray}
E_{t}[L(T_{N-1},T_{N}]=\frac{1-P_{t,T_{M}}-\sum_{n=1}^{N}\delta_{n}\tau_{N}P_{t,T_{n}}}{\delta_{N}P_{t,T_{N}}}+\frac{-\sum_{n=1}^{N-1}\delta_{n}(E_{t}[L(T_{n-1},T_{n})]P_{t,T_{n}}}{\delta_{N}P_{t,T_{N}}}．
\end{eqnarray}</p>

<h2 id="reference">Reference</h2>
<ul>
  <li>Nakahara, G.，2013. LIBOR and OIS discount that can be seen in EXCEL (In Japanese)</li>
  <li>Fujii, M.，Shimada, Y. and Takahashi, A.，2010. “A Note on Construction of Multiple Swap Curves with and without Collateral”， FSA Research Review Vol.6(March 2010)．</li>
</ul>]]></content><author><name>Kyo Harada</name></author><category term="Business" /><category term="Finance" /><category term="Business Finance" /><summary type="html"><![CDATA[This is a modified version of the report for semminar at a financial consulting firm in 2016.]]></summary></entry><entry><title type="html">Sources of finance</title><link href="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/26/Investment-appraisal.html" rel="alternate" type="text/html" title="Sources of finance" /><published>2021-05-26T00:00:00+09:00</published><updated>2021-05-26T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/26/Investment-appraisal</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/26/Investment-appraisal.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#investment-appraisal--eastern-plc-assessment-standard" id="markdown-toc-investment-appraisal--eastern-plc-assessment-standard">Investment Appraisal – Eastern plc Assessment Standard</a>    <ul>
      <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
      <li><a href="#preparing-the-npv-calculation-for-eastern-plc" id="markdown-toc-preparing-the-npv-calculation-for-eastern-plc">Preparing the NPV calculation for Eastern plc</a></li>
      <li><a href="#explaining-what-the-cost-of-capital-of-8-represents" id="markdown-toc-explaining-what-the-cost-of-capital-of-8-represents">Explaining what the cost of capital of 8% represents</a></li>
      <li><a href="#comment-on-whether-and-how-this-investment-may-contribute-to-shareholder-wealth" id="markdown-toc-comment-on-whether-and-how-this-investment-may-contribute-to-shareholder-wealth">Comment on whether and how this investment may contribute to shareholder wealth</a></li>
    </ul>
  </li>
</ul>

<p>This is a modified version of the report for Understanding Finance (Part 1: Investment Appraisal – Eastern plc Assessment Standard) in Bath Full Time MBA Class of 2020.</p>

<h1 id="investment-appraisal--eastern-plc-assessment-standard">Investment Appraisal – Eastern plc Assessment Standard</h1>

<h2 id="introduction">Introduction</h2>
<p>This report will answer the requirements of this coursework.  These issues are to prepare the NPV calculation for Eastern plc, to explain what the cost of capital of 8% represents and to comment on whether and how this investment may contribute to shareholder wealth.</p>

<h2 id="preparing-the-npv-calculation-for-eastern-plc">Preparing the NPV calculation for Eastern plc</h2>
<p>As a result of the calculation, the NPV of this investment is approximately £9.2 millions or more precisely £91,931,456.  This NPV is calculated to sum up the discounted cash flows in the life of project including the end of year 5 which the plant and equipment, which the company is going to invest, will be disposed.  Each discounted cash flow is computed to multiply the net cash flow by discount rate which is equal to the cost of capital (8%).  The net cash flow or free cash flow if the company financed by only equity is the cash flow which subtracts of all obligatory payments from gross profit adding the depreciation.  The gross profit will be estimated to 35% of the sales which is going to earn selling 4 million units per year with the current price of £2.50, however, the price is expected to inflate by 4% per year.  The depreciation is emulated using the Straight Line Basis method which means the investment subtracting from disposal value (£0.15 millions) is divided by life of project (5 years).  The obligatory payments are the investment, fixed cost, tax payable and working capital change in this case.  £2 millions of investment in new plant and machinery will be paid immediately and the remains (£6 millions) will do so at the end of the first year.  The fixed cost is estimated be £2 million per year, however, this includes the depreciation (£1.57 millions), and therefore the actual fixed cost will be £0.43 millions per year.  The tax payable is reckoned to multiply tax rate (20%) by taxable income which is to subtract gross profit from depreciation and fixed cost.  The working capital change of a year is determined to subtract the working capital of 1 year later as of the year from the working capital of the year which will be maintained at 10% of the following year’s sales.  The detail of calculation is in the MS Excel sheet which is also uploaded with this report.</p>

<h2 id="explaining-what-the-cost-of-capital-of-8-represents">Explaining what the cost of capital of 8% represents</h2>
<p>What the cost of capital of 8% represents can be the minimum rate of return on the prospective investment projects as for the investors, who are supplying funds for Eastern plc.  In addition, it can be also the degree of risk to invest this investment.  Therefore, if Capital Asset Pricing Model (CAPM) theory hold and this cost of capital is financed by only equity, the investors require almost 7.2% premium for the risk of this investment owing to the fact that 10 years British government bond rate is 0.79%, which used as a risk free rate.  Moreover, if the theory hold, this additional risk premium might depend on the company’s beta.  According to Statista, the average market risk premium in the United Kingdom, 2019 is 6.2% and therefore, the market implied the company’s beta can be approximately 1.12.  This means the company might be more sensitive than the whole market return.  In comparison with other London stock exchange listed plastic companies such as Daios Plastics SA having beta 0.0133 and Lordos United Plastics Public Ltd with beta 0.0237, the risk can be significantly higher than competitors and therefore the investors require higher return for the company.  This can be because the structure of asset might be weighted to debt which the lenders own less business risk than stockholders if the assumption that the cost pf capital is financed by only equity relax.</p>

<h2 id="comment-on-whether-and-how-this-investment-may-contribute-to-shareholder-wealth">Comment on whether and how this investment may contribute to shareholder wealth</h2>
<p>This investment may contribute to shareholder wealth.  This is mainly because the NPV is a positive with a large cash flow owing to relatively highly competitive advantage of the company only if the sales figure is feasible.  Therefore, this investment will earn a large amount of free cash flows which they are expecting and then those cash flow will be back to the investors as a dividend.  The depreciation using the Straight-Line Basis method can be affected the NPV positively because if they adopted the other method, they would have to pay more cash flow as depreciation and then the NPV will reduce more than using Straight Line Basis.</p>]]></content><author><name>Kyo Harada</name></author><category term="Business" /><category term="Finance" /><category term="Business Finance" /><summary type="html"><![CDATA[This is a modified version of the report for Understanding Finance (Part 1: Investment Appraisal – Eastern plc Assessment Standard) in Bath Full Time MBA Class of 2020.]]></summary></entry><entry><title type="html">Applied Microeconomics</title><link href="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/26/applied-microeconomics.html" rel="alternate" type="text/html" title="Applied Microeconomics" /><published>2021-05-26T00:00:00+09:00</published><updated>2021-05-26T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/26/applied-microeconomics</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/26/applied-microeconomics.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#applied-microeconomics" id="markdown-toc-applied-microeconomics">Applied Microeconomics</a>    <ul>
      <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
      <li><a href="#economic-analysis-of-the-mobile-payment-industry" id="markdown-toc-economic-analysis-of-the-mobile-payment-industry">Economic Analysis of the Mobile Payment Industry</a></li>
      <li><a href="#economic-analysis-of-stripe" id="markdown-toc-economic-analysis-of-stripe">Economic Analysis of Stripe</a></li>
      <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<p>This is a modified version of the report for Applied Microeconomics in Bath Full Time MBA Class of 2020.</p>

<h1 id="applied-microeconomics">Applied Microeconomics</h1>

<h2 id="introduction">Introduction</h2>
<p>Once the start-ups were hard to build financial services such as payment.  This primary was because the bank used to spend 75% of their IT budget to maintain their financial service <cite>(Strange, 2019)</cite>.  However, Amazon Web Services (AWS) has changed this situation due to providing them IT infrastructure as a service and therefore, they can start the financial service business with quite cheaper than ever (ibid).  Although the banking business is supplied as a service owing to AWS and other cloud computing providers, it is not required to supply all banking functions (fraud, regulatory, data, payment, core systems and license) as a unit (ibid).  Although now there are a great deal of certain function banking service providers (called FinTech), this essay will focus on Stripe which is the one of the largest online (mainly mobile) payment service providers.  This is because the forecast says the global mobile payment market is rapidly growing with approximately 30% GACR (2018-2026) which means the market will be roughly 7 times larger than in 2018 <cite>(Fortune Business Insights, 2020)</cite>.  The hospitality and transportation sector are the fastest (35% GACR) and emerging economies in Asia-Pacific are growing more rapidly than any other region, the remarkable example of which is China having a half of world mobile payment transactions (PRIME INDEXES, 2019).  This is mainly due to the online payment innovation called Payment Facilitator (or ‘PayFac’) which completely shortened the merchant onboarding operation <cite>(CB Insights, 2020)</cite>.  Therefore, the mobile payment industry could be one of the attractive markets and Stripe might play the important role of the market owing to their presence in the market because it is one of the first firms to use PayFac technology (ibid).</p>

<h2 id="economic-analysis-of-the-mobile-payment-industry">Economic Analysis of the Mobile Payment Industry</h2>
<p>One of the main reasons why mobile payment is rising can be to remove the pain points in the customer experience of the payment process which is becoming more complex due to E-commerce and the ramification of merchant landing pages <cite>(Goldman Sachs, 2017)</cite>.  The buyers of these platforms are not only end-users (2.1 billion in the world in 2019 and potentially 60% of the world population by 2025 because of the wide spreading mobile phone) who are mainly millennials but also the businesses such as merchants <cite>(THE PAYPERS BV, 2019)</cite>.  Functionally, the major alternatives of this service are other types of payment method mainly including credit card and debit one because of which four fifth of the transaction by the millenniums delivered on these cards and they considered the payment by the ones is the easiest way (ibid).  This is because they think there are several security filters to pay by the mobile payment, which leads them to hesitate to do so (ibid).  As well as the demand side, Fintech firms including Stripe are not the only one major supplier of the mobile payment market.  The traditional players such as banks and financial institutions are also, the example of which 89% of them in the United States is offering mobile banking services <cite>(PRIME INDEXES, 2019)</cite>.  In addition, tech giants (Google and Apple) and electronics (Samsung) are doing so mobile payment apps which prefixed their own brand name, as a result of which 3 apps will dominate 56% of this market in the US according to Juniper Research (ibid).  However, Starbucks’ mobile app was the most common mobile payment platform in the US until 2019 in terms of the number of users and still is more popular than Google and Samsung Pay (Merchant Savvy, 2020).  This can be because the customers are likely to use for low-cost, high-frequency purchases including coffee in Starbucks owing to not only more smooth purchase transactions but also loyalty and rewards programs offered by certain merchants <cite>(ELECTRONIC TRANSACTIONS ASSOCIATION, 2019)</cite>.  In addition, there are the difference of the preference about how many mobile payment apps the customers prefer to install, the major example of which East Asian countries such as China and South Korea may prefer to do so only one app, however, the other area including the United States may not hesitate to do so several apps <cite>(Merchant Savvy, 2020)</cite>.  This can allow Stripe and other mobile platformers to the more opportunities to enter this industry especially in the US, however, credit card and debit card are used in 41% and 34% of point of sales spending by value in North America in 2018 according to Worldpay’s World Payments Report <cite>(ELECTRONIC TRANSACTIONS ASSOCIATION, 2019)</cite>.  This may mean these cards are stronger competitors rather than other mobile payment platformers as for Stripe.  This might be because the customers in the area have ‘security fears’ to use the mobile payment (ibid).  In fact, roughly a half of them pointed out the fear was the main reason to prevent using the one (ibid).  Therefore, it can be said the structure of the mobile payment market in the world (except China dominated by only two firms including Alibaba and Tencent) is closing to oligopoly which Stripe and other few competitors such as Ayden and PayPal (Braintree) from nearly perfect competition due to low entry barrier which only requires to be approved by Financial Services Authority (FSA).</p>

<h2 id="economic-analysis-of-stripe">Economic Analysis of Stripe</h2>
<p>Stripe is an online API based payment platformer with the mission which is ‘increasing the global GDP of the internet’ <cite>(Jewell and Marden, 2018)</cite>.  Their platform has also well documented manuals and then has high integrity for the system of the clients (ibid).  This is primarily because they ‘believe that payments are a problem rooted in code, not finance’ and therefore, they concentrate to decrease implementation time to integrate their platform into the merchant’s web sites <cite>(Goldman Sachs, 2017)</cite>.  As a result of the concentration, the integration time is shortened from more than 6 months to only a few minutes (just added a few codes in the web sites whose user interfaces are unchanged) (ibid).  Their business model is mainly dependent on a per-transaction basis, the example of which when the client product is sold via their payment system, they can earn some portion of the price and therefore as the revenue of the client is increased, their revenue is also raised (ibid).  In fact, in general, they impose a fixed rate of 2.9% + 30 cents per transaction, however, the fee is changed by the volume of transactions and the geographic location which the merchants are in <cite>(Murray, 2019)</cite>.  In the UK, the fee per transaction also depends on the cards which the customers use in the merchants, the example of which they are imposed at 1.4% + 20p for a European card or 2.9% +20 p for a non-European card (ibid).  This means the merchants can deliver the international purchase transactions only with slightly higher fee (for example 1.5% additionally charged in the UK) at least within Europe.  Stripe focuses on only businesses, especially small- and medium-sized ones, which is the major difference of PayPal and therefore their revenue is estimated at $450 million as a result of a $20 billion transaction by value in 2015 (ibid).  In addition, as a result of counting on their direct sales model (marketing cost such as CAC can be quite low) and low infrastructure cost (AWS and it do only charge for the amount of actual usage which means almost zero fixed costs to operate the platform presumably only except employee salary and rent fee), the profit margin is estimated around 55 %, which is better than industrial average (around 20%) (CB Insights, 2020). Hence the cost structure of Stripe can be said to be relatively competitive in this industry.  Furthermore, Stripe is a relatively software developer oriented firm, one of the main reasons for which it has the community of them and therefore the capability of integration for other services is stronger than the competitors because they prefer to work in Stripe rather than other firms <cite>(Benson, 2018)</cite>.  This can be because they prefer to introduce their payment platform into new technology such as AI.  For instance, a new product (called Radar) can detect fraud transactions in the purchase processing to monitor in real time and score them based on the historical data trend and therefore as the tool has more data, the accuracy of the capability to detect potentially fraudulent transactions can increase, which may mean it has the strong sales and operating synergy for the payment platform <cite>(CB Insights, 2020)</cite>.  One of the largest benefits to using their online payment platform can be increasing client firm’s revenue.  In fact, the conversion rate of some clients increased by 2-3% due to smoother payment process (or faster processing time) by their platform, which means it also increased the satisfaction of client’s customer purchase experience and therefore on average they could increase by 7% of client firm revenue <cite>(Jewell and Marden, 2018)</cite>.  Another major benefit can be that their payment platform can reduce the operational cost of the clients.  This is because the cost of development and maintenance for the payment platform is 24% cheaper than competitor’s average (ibid).  Hence from the economic perspective, it can be said that the opportunity cost of the usage of moderate payment platforms is higher than Stripe payment platform and therefore, they have a competitive advantage not only for building payment systems from the scratch but also average competitors.  In addition, it also has the function to prevent the fraud of purchase transactions (ibid).  According to LexisNexis (a legal firm), generally, every $1 of fraudulent purchase transactions charges an online trade an additional $2.62 (ibid).  Therefore, it can be said their payment system can reduce the costs of the clients to prevent fraud.  Furthermore, on general, mobile payment can be more secure than other type of payment method due to tokenized transaction which means the card number cannot be seen at the point of sales and encrypting the sales information immediately after the customers purchase <cite>(ELECTRONIC TRANSACTIONS ASSOCIATION, 2019)</cite>.  Hence, Stripe can offer the secure purchase transaction via their mobile payment platform, which means the merchants can reduce security costs to introduce the mobile payment such as Stripe one.  Time can be a major scarce resource and therefore rapid integration into the client’s landing pages could lead Stripe to competitive advantage.</p>

<h2 id="conclusion">Conclusion</h2>
<p>This essay has discussed the mobile payment industry and the key supplier (Stripe) in terms of economics.  It has several competitive advantages including the fraud prevention, lower marketing and operating costs (higher profit margin, 55% around), rapid integration without any change of the user interface of the merchant’s web pages and the strong developer’s community.  In addition, the industry is growing rapidly (more than GACR 30%), however, the number of suppliers is also rising and therefore the profitability of the firms might be decreased as a result of competitions.  Furthermore, the credit card firms such as Visa and Mastercard can be still the largest competitor in terms of payment.  This is because the client’s customers still have the fear of security for mobile payment even though technically it is more secure than a credit card.  In the future remark, whichever mobile payment system such as digital wallet (Apple Pay) or gateway (Stripe) the merchants select, they finally have to be authorized, done clearing and the settlement by card network of Visa and Mastercard which can charge the same amount of the fee Stripe can earn according to Goldman Sucks (2017).  Therefore, even if mobile payment penetrated and dominated the payment process, still the credit firms can earn profit due to the assessments.  Hence Stripe has mainly two options, first of which is becoming the authority like Visa or second of that introduces blockchain which is not required to the central clearing and authorization.</p>

<h2 id="reference">Reference</h2>
<ul>
  <li>Benson, J., 2018. Stripe Vs Adyen [Online]. Available from: <a href="https://www.spreedly.com/blog/stripe-vs-adyen">https://www.spreedly.com/blog/stripe-vs-adyen</a> [Accessed 8th June 2020].</li>
  <li>CB Insights, 2020. Stripe Teardown: How The $35B Payments Company Plans To Supercharge Online Retail [Online]. Available from: <a href="https://www.cbinsights.com/research/report/stripe-teardown/">https://www.cbinsights.com/research/report/stripe-teardown/</a> [Accessed 8th June 2020].</li>
  <li>ELECTRONIC TRANSACTIONS ASSOCIATION, 2019. THE STATE OF MOBILE PAYMENTS IN 2019</li>
  <li>Fortune Business Insights, 2020. Mobile Payment Market Size, Share &amp; Industry Analysis, By Payment Type (Proximity Payment, Remote Payment), By Industry (Media &amp; Entertainment, Retail, BFSI, Automotive, Medical &amp; Healthcare, Transportation, Consumer Electronics, Others), and Regional Forecast, 2019-2026 [Online]. Available from: <a href="https://www.fortunebusinessinsights.com/industry-reports/mobile-payment-technology-market-100336">https://www.fortunebusinessinsights.com/industry-reports/mobile-payment-technology-market-100336</a> [Accessed 8th June 2020].</li>
  <li>Goldman Sachs, 2017. Future of Finance Payment Ecosystems</li>
  <li>Merchant Savvy, 2020. Amazing Stats Demonstrating The Unstoppable Rise of Mobile Payments Globally [Online]. Available from: <a href="https://www.merchantsavvy.co.uk/mobile-payment-stats-trends/">https://www.merchantsavvy.co.uk/mobile-payment-stats-trends/</a> [Accessed 8th June 2020].</li>
  <li>Murray, T., 2019. Stripe Product Model [Online]. Available from: <a href="http://www.businessmodelzoo.com/exemplars/Stripe">http://www.businessmodelzoo.com/exemplars/Stripe</a> [Accessed 8th June 2020].</li>
  <li>PRIME INDEXES, 2019. Mobile Payments Industry Overview</li>
  <li>Strange, A., 2019. Every Company Will Be a Fintech Company [Online]. Available from: <a href="https://a16z.com/2020/01/21/every-company-will-be-a-fintech-company/">https://a16z.com/2020/01/21/every-company-will-be-a-fintech-company/</a> [Accessed 8th June 2020].</li>
  <li>THE PAYPERS BV, 2019. Payment Methods Report 2019</li>
</ul>]]></content><author><name>Kyo Harada</name></author><category term="Business" /><category term="Finance" /><category term="Business Finance" /><summary type="html"><![CDATA[This is a modified version of the report for Applied Microeconomics in Bath Full Time MBA Class of 2020.]]></summary></entry><entry><title type="html">Knowledge Leadership in a Global Economy</title><link href="https://kyo1988.github.io/Kyo.github.io/business/finance/start-up/2021/05/26/knowledge-leadership-in-a-global-economy.html" rel="alternate" type="text/html" title="Knowledge Leadership in a Global Economy" /><published>2021-05-26T00:00:00+09:00</published><updated>2021-05-26T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/business/finance/start-up/2021/05/26/knowledge-leadership-in-a-global-economy</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/business/finance/start-up/2021/05/26/knowledge-leadership-in-a-global-economy.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#knowledge-leadership-in-a-global-economy" id="markdown-toc-knowledge-leadership-in-a-global-economy">Knowledge Leadership in a Global Economy</a>    <ul>
      <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
      <li><a href="#the-definition-of-knowledge-currently-used-in-the-organization" id="markdown-toc-the-definition-of-knowledge-currently-used-in-the-organization">The definition of knowledge currently used in the organization</a></li>
      <li><a href="#whether-this-definition-reflects-the-complexity-of-knowledge-in-the-organization" id="markdown-toc-whether-this-definition-reflects-the-complexity-of-knowledge-in-the-organization">Whether this definition reflects the complexity of knowledge in the organization</a></li>
      <li><a href="#whether-the-core-knowledge-management-enablers-are-in-place" id="markdown-toc-whether-the-core-knowledge-management-enablers-are-in-place">Whether the core knowledge management enablers are in place</a></li>
      <li><a href="#what-are-the-core-knowledge-assets-in-the-organization" id="markdown-toc-what-are-the-core-knowledge-assets-in-the-organization">What are the core knowledge assets in the organization?</a></li>
      <li><a href="#the-current-knowledge-management-practices" id="markdown-toc-the-current-knowledge-management-practices">The current knowledge management practices</a></li>
      <li><a href="#what-can-be-done-to-effectively-match-knowledge-assets-and-knowledge-management-practices" id="markdown-toc-what-can-be-done-to-effectively-match-knowledge-assets-and-knowledge-management-practices">What can be done to effectively match knowledge assets and knowledge management practices?</a></li>
      <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<p>This is a modified version of the report for Knowledge Leadership in a Global Economy in Bath Full Time MBA Class of 2020.
<cite></cite></p>
<h1 id="knowledge-leadership-in-a-global-economy">Knowledge Leadership in a Global Economy</h1>

<h2 id="introduction">Introduction</h2>
<p>Y Combinator (YC) can be one of the most popular venture capital (VC) in the world.  One of the main reasons for popularity might be they ‘created a new model for funding early stage startups’ <cite>(Y Combinator, 2020)</cite>.  This is because for only 15 years since 2005, they have supported more than 2,000 firms including Airbnb, Dropbox and Heroku, which are valued beyond 100 billion dollars (ibid).  They also have Startup School which is a free 8-week online course for building startups. In addition, Hacker News which is one of the most famous social news sites in the world.  Therefore, they might have a total ecosystem about startups which is not only for investors such as themselves but also for the people who are going to become founders.  In addition, VC can be one of the most apparent knowledge intensive industries and YC is one of the biggest winners of the VC industry, especially early stage startups fund raising.  This essay will appraise the effectiveness of this firm’s current knowledge management practices and acknowledge what requires to be done to enhance both formal and informal knowledge management practices in terms of six aspects in relation to YC.  These aspects are earned to address the definition of knowledge currently used in YC, whether this definition reflects the complexity of knowledge in YC, whether the core knowledge management enablers are in YC, what are the core knowledge assets in YC, The current knowledge management practices and what can be done to effectively match knowledge assets and knowledge management practices? respectively.</p>

<h2 id="the-definition-of-knowledge-currently-used-in-the-organization">The definition of knowledge currently used in the organization</h2>
<p>YC provides the program for the company, mainly startup founders who want to present and get feedback on their ideas or business plans for the investors and YC alumni <cite>(Moed, 2019)</cite>.  The knowledge which YC share with the founders experienced this program is mainly instruction how to create a startup effectively and how to avoid the danger of starting up (ibid).  One of the most popular example of startup knowledge can be the statement that the founders should not scale or raise the money by the funds before they found Product Market Fit (PMF) because if they did not find PMF, although they burn a huge amount of cash, the revenue would not increase owing to the fact that the customers just do not want to buy their product and therefore whether the product which the founders built seems to be PMF or not can be the most significant factor as for the VC including YC themselves <cite>(Seibel, 2016)</cite>.  However, VCs even the greatest one are always losing the opportunity to invest the prospective startups which other VC recommended to invest together mainly because the investor in the VC had to convince other partners in their firms and this might be extremely time consuming and difficult task owing to the fact that no one can see the future but they must predict what the firm will become <cite>(Graham, 2011)</cite>.  PMF is vitally important to decide whether the VCs invest in the startups or not. This is primary because according to CB Insights, 42% of startups failed due to the fact that they built the product which the customers do not need <cite>(Griffin, 2017)</cite>.  Despite the importance, there are several definitions of PMF.  The space to interpret the PMF might create the complexity and difficulty to manage the startups.  However, survey.io provides the startups one of the most widespread PMF survey tools named and developed by Sean Ellis <cite>(Shah, 2020)</cite>.  The survey asks the customers the question which is ‘How would you feel if you could no longer use their product?’ with choices which are ‘Very disappointed’, ‘Somewhat disappointed’ or ‘Not disappointed (It really isn’t that useful)’ and as a result of this survey, According to Sean Ellis, if at least 40% of people who are surveyed selected ‘Very disappointed’, the product would reach PMF (ibid).  Slack earned 51% respondents who opted ‘Very disappointed’ if it no longer existed and therefore it is already being utilized by more than 750,000 people per day (ibid).  This case is one of the most apparent examples of the product which reached PMF.  As for the most VCs especially in the United States, PMF is the fundamental condition to invest and therefore they want to know whether the startup’s service truly reaches PMF or not, however, this knowledge which YC and other VCs address still exists ambiguously.  From a contemporary view, the knowledge characterized several aspects such as being partial (which means no one can write fully all of ideas people have), tacit (the gap between the idea and the ability to write it), subjective, and context dependent <cite>(Hislop et al, 2018)</cite>.  Hence, PMF can be a typical case of modern characteristic knowledge as for the investors and founders.</p>

<h2 id="whether-this-definition-reflects-the-complexity-of-knowledge-in-the-organization">Whether this definition reflects the complexity of knowledge in the organization</h2>
<p>It is clearly positively affected on strengthening YC’s competitive advantages compared with other VCs.  This can be because they are expanding their community members as YC alumni and becoming the authority to give the startup the credit for the future scaling mainly due to the fact that they could find Airbnb and Dropbox which are one of the most valuable firms in the world before they succeeded and therefore it can be easily imagine if a startup rose money by YC, the firm would be believed as a next Airbnb by the investors and consumers.  From the viewpoint of the learning organization (LO) which is defined as ‘organization which facilitates the learning of all its members and consciously transforms itself and its context’ , YC can be also the example of LO, however, they not only facilitate the stuff in the firm but also the member of their community outside of the company <cite>(Hislop et al, 2018)</cite>.</p>

<h2 id="whether-the-core-knowledge-management-enablers-are-in-place">Whether the core knowledge management enablers are in place</h2>
<p>Paul Graham who is the cofounder of YC and the author of some popular books in the software engineering industry could be the core knowledge management enablers.  His blog can be the one of the most famous and authorized.  In addition, the blog mainly is written about IT and Startups.  Among his posts in blog, the article named ‘Subject: Airbnb’ might be the most popular one, which is written about Fred Wilson, the famous investor, who was missing Airbnb and posted the actual emails about that <cite>(Graham, 2011)</cite>.  He tried to translate the tacit knowledge which only few successful investors knew about investment decision making into an explicit one to write the article and show real email conversation.  Although still some knowledge which he could not write is there, this experiment can represent his and his VC’s character for knowledge management and its process.  Another main source of the core knowledge management enablers also could be the startup founders who joined YC programs.  The lecturers in the programs are mainly the co-founders and the partners of the firm, however, some of them are YC backed startup founders who used to be students in this program.  The winners, who could raise money and other resources such as the knowledge about startup management, also become the lecturer or at least guest speaker in the program.  Even if the students do not become such a person, they can communicate and teach each other in the social networking site which are provided by YC as a platform and they can meet other students who are struggling to run their own startup online using Skype, Google Hangout or other Online video communication tools in a certain period, for example, the typical program has 8 weeks and therefore usually they can communicate each other with the lecturer on week 2, 4, 6 and 8.  Other major sources of the core knowledge management enablers could be the location and culture where YC is located, Silicon Valley in San Francisco of California.  This is mainly because this place is one of the most intensively high tech companies and VC located in the area and therefore the founders can easily meet their customers and find their mentors who have already succeeded in the similar business to learn how to do what they truly want to do <cite>(Migicovsky, 2019)</cite>.  In addition, Silicon Valley can be characterized mainly by 2 features, which are respecting ‘wild’ ideas and paying forward <cite>(Jordan, 2017)</cite>.  Only in this area, the ideas which people living in the outside of this cultural context may insult are accepted and encouraged owing to the fact that the people in Silicon Valley understand scoffing at someone’s too ambitious idea can lose the great deal of chance to invest in future scaling firms (ibid).  One of the most popular example is that if a person wanted to build electric car company while he did not know not only about car but also battery, he would not be assisted by the VC and engineers, however, he was helped and financed a huge amount of money and other resources because he lived in Silicon Valley and therefore Tesla became one of the largest market capitalization automobile firm in the United States, beyond Ford (ibid).  Paying forward culture can be also less likely to be settled in other areas.  This means if a founder was helped by other founders or VCs, he would assist the person who is in a similar situation with him and therefore this connection will be strengthened to the future (ibid).  These intellectual assets might not be seen in other areas even in other states in the United States.  Hence, this location advantages can be the most valuable the core knowledge management enabler for YC and their customers because if they live in other area, YC can inform them the latest knowledge created in Silicon Valley and this type of knowledge might be what the founders especially the one who are not live in Silicon Valley actually desire to learn.  YC did summarize this Silicon Valley culture and became their own assets and culture.</p>

<h2 id="what-are-the-core-knowledge-assets-in-the-organization">What are the core knowledge assets in the organization?</h2>
<p>The connection between YC alumni and investors including YC themselves might be fundamental intellectual capital built by mostly explicit knowledge about startups such as how they reach PMF.  They have their own online startup school which constructs the video lectures by YC partners, the direct communication system which if the founders want to ask them, they can do so anytime and organize articles about several specific stages which the founders would be in therefore they can be supported by them everywhere and every time.  As a result of that, YC can collect the data regarding startups especially at an early stage, which means the founders try to raise money for the first time.  More data they earn, the accuracy of the future success prediction or the odds could increase and therefore they will be able to obtain further data and positive feedback loop.  Another major core knowledge asset might be their online startup resources named library.  The library provides students and people who are interested in the program the documents, tools, template agreements, media and articles.  Almost all events YC held are recorded and shared for the online users.  It is clearly seen their efforts to make the startup management knowledge enable their potential customers.</p>

<h2 id="the-current-knowledge-management-practices">The current knowledge management practices</h2>
<p>There is some vital asymmetry of information in Series A (early stage of startups financing) between the VCs and the founders, which brings them serious disadvantages, however, YC tried to dissolve this issue to share their knowledge created by their program <cite>(Harris and Tam, 2020)</cite>.  For example, as a result of their research, the founders spent a huge amount of time and money to yield a single term sheet (a basic condition to be invested by VCs) and they met totally 30 investors to do so on average (ibid).  To avoid or reduce this time-consuming activity, YC has provided the guide to raising series A and a standard clean series A term sheet as a template (ibid).  Therefore, YC did translate the informal knowledge which only few investors knew and took advantage of the founders into formal information which every founder can access.  Hence, they are becoming the platform for the startups especially early stage one.  Furthermore, YC is expanding their startup knowhow outside of the United States mainly Europe and China.  This is primarily because especially in Europe, European ecosystem for startups has been built and European have the confidence in respect to that as a result of the fact that the capital access is improving <cite>(Voices, 2018)</cite>.  There are mainly 3 reasons to justify their confidence.  First of all, in fact, in the region of European startups have become the global key players such as Spotify, Skype, DeepMind, Monzo and Soundcloud with talented engineer teams (ibid).  Secondly, there are Computer Science hubs including Cambridge, Oxford, ETH Zurich and therefore most engineers graduated such universities select to join the scaling Europe born startups (ibid).  Thirdly and finally, Silicon Valley or more generally the United States are matured mainly due to the dominance of Big Tech companies such as Amazon, Apple, Google, Facebook and running cost there is continuously increasing (ibid).  Accordingly, these companies are seeking their engineers outside of the United States to build their branches in Europe and hence their investment is contributing to strengthen European engineer’s job market which means European IT firms become more easily hire talented engineers then ever (ibid).  On the contrary, although YC built their branch in China in 2018 and they allow the branch full access to their key resources and independence in respect to the operations from the headquarters in Silicon Valley, suddenly they abandoned the Chinese branch <cite>(Liao, 2019)</cite>.  This might be because the most prospective Chinese startups have already been financed and ruled by Chinese large tech companies such as Alibaba, Tencent and Baidu and therefore multinational corporations in China have almost been wiped out. They almost never successfully land in China’ according to Lu Qi who managed the Chinese YC branch (ibid).  This case could suggest that YC startup knowledge depends on western cultural context especially the American one and hence there is still some tacit knowledge referring to that.  Lu Qi of YC China clearly failed in China, however, he is still thinking why he did so.  He said that ‘When it comes to whether Chinese startups are suited for mentorship, or whether incubators bring value to China, these are separate questions’ which means he recognized the obstacle to succeed YC business in China but the issue was quite complicated and could not divide it into several aspects (ibid).</p>

<h2 id="what-can-be-done-to-effectively-match-knowledge-assets-and-knowledge-management-practices">What can be done to effectively match knowledge assets and knowledge management practices?</h2>
<p>YC has several type of knowledge assets mainly not only experiential knowledge assets (tacit knowledge shared through common experiences) which is matched their practice such as PMF but also systemic knowledge assets (systemized and packaged explicit knowledge) that is correlated their methods including manuals dealing with series A raising and databases according to how to build startups.   However, there is still a gap between the knowledge regarding startups written in the assets such as the documents and what the students mainly the founders actuary learned from the one <cite>(PALIOS, 2019)</cite>.  In the programs, YC tried to space among them using face to face mentoring with the mentors for startups and alumni (ibid).  All learnings YC observed are uploaded to their online startup school and therefore the students can study the knowledge in their hometown which they used not to be able to be assisted, though the effectiveness of both methods depends on the situation which the founders are in (ibid).  When they are in the early stage before scaling their firms, the mentoring is relatively effective, however, if they are in the scaling stage, the mentoring will not be less feasible (ibid).  YC holds events to meet their customers who can also see each other.  In fact, YC launched the event to seek the person who is intelligent and gifted, like Elon Musks, especially the one who desire to employ hard tech with more inclusive way such as travel and lodging costs of participants, who appeal via a one-minute video that inquires them related to their interests, and what their potential for dignity is adjusted for whatever life situations they were born into <cite>(Konrad, 2019)</cite>.  The conferences can be also seen as the tool to fill the gap and therefore YC might employ each service complementally.</p>

<h2 id="conclusion">Conclusion</h2>
<p>This essay has assessed the effectiveness of this firm’s current knowledge management practices and considered what requires to be done to enhance both formal and informal knowledge management practices in terms of six aspects in connection with YC, the world’s most popular venture capital.  These aspects are earned to address the definition of knowledge currently used in YC, whether this definition reflects the complexity of knowledge in YC, whether the core knowledge management enablers are in YC, what are the core knowledge assets in YC, The current knowledge management practices and what can be done to effectively match knowledge assets and knowledge management practices? respectively.  The knowledge is mainly startup incubation know how especially PMF.  The complexity of that is due to the ambiguity of PMF.  The core knowledge management enablers are the cofounders of YC such as Paul Graham, YC alumni including Airbnb founder and Silicon Valley culture equally paying forward and respect for too ambitious ideas.  The core knowledge assets are their startup acceleration resources such as video, documents, template agreements, tools and the people who are equal to the core knowledge management enablers speaking in the event or video.  The current knowledge management practices are sharing their startup resources via their startup schools, the latest of which is the guide about series A and expanding outside of the United States mainly Europe and China, however, their Chinese branch failed.  To answer what can be done to effectively match knowledge assets and knowledge management practices is the balancing among the documents, mentoring and events, especially distributing the documents via their platforms can change the situation of the people who live in the place far from the United States.  YC itself is scaling their service via their online startup school to the world.  In Europe, it can be seen the success regarding their expansion.  However, the failure in China noticed the fact that there is still a huge gap between hands-on practice in Silicon Valley and the one in non-western cultural contexts.  In spite of that, if they overcame the gap, they would be able to scale their business into non-western countries such as African and Asia-Pacific nations.  As a result, they might be able to find the next Elon Musks in such regions.  Startup incubation can be the engine of economic growth to build the innovative product which might increase human wealth and therefore their business may assist to increase not only quality of human life but also their living standards.</p>

<h2 id="reference">Reference</h2>
<ul>
  <li>Graham, P., 2011. Subject: Airbnb [Online]. Available from: <a href="http://www.paulgraham.com/airbnb.html">http://www.paulgraham.com/airbnb.html</a> [Accessed 29 February 2020].</li>
  <li>Griffin, T., 2017. 12 Things about Product-Market Fit [Online]. Available from: <a href="https://a16z.com/2017/02/18/12-things-about-product-market-fit/">https://a16z.com/2017/02/18/12-things-about-product-market-fit/</a> [Accessed 29 February 2020].</li>
  <li>Harris, A. and Tam, J., 2020. YC’s New Guide to Raising a Series A [Online]. Available from: <a href="https://blog.ycombinator.com/ycs-series-a-guide/">https://blog.ycombinator.com/ycs-series-a-guide/</a> [Accessed 29 February 2020].</li>
  <li>Hislop, D., Bosua, R. and Remko Helms, R., 2018. Knowledge Management in Organizations, FOURTH EDITION</li>
  <li>Jordan, M., 2017. How and Why to Start A Startup — Sam Altman &amp; Dustin Moskovitz [Online]. Available from: <a href="https://medium.com/@gifted_products/how-and-why-to-start-a-startup-sam-altman-dustin-moskovitz-b83bdf87f745">https://medium.com/@gifted_products/how-and-why-to-start-a-startup-sam-altman-dustin-moskovitz-b83bdf87f745</a> [Accessed 29 February 2020].</li>
  <li>Konrad, A., 2019. Y Combinator Launches A Conference For Young People To Find ‘Future Elon Musks’ [Online]. Available from: <a href="https://www.forbes.com/sites/alexkonrad/2019/01/29/y-combinator-launches-a-new-conference-to-find-future-elon-musks/#3e95edbe2993">https://www.forbes.com/sites/alexkonrad/2019/01/29/y-combinator-launches-a-new-conference-to-find-future-elon-musks/#3e95edbe2993</a> [Accessed 29 February 2020].</li>
  <li>Liao, R., 2019. China Roundup: Y Combinator’s short-lived China dream [Online]. Available from: <a href="https://techcrunch.com/2019/11/23/china-round-up-yc-china-alibaba-meituan-war/">https://techcrunch.com/2019/11/23/china-round-up-yc-china-alibaba-meituan-war/</a> [Accessed 29 February 2020].</li>
  <li>Migicovsky, E., 2019. Should You Move Your Company to Silicon Valley? - Eric Migicovsky, Pebble Founder [Online]. Available from: <a href="https://www.youtube.com/watch?v=Zj1WyGpSbrM">https://www.youtube.com/watch?v=Zj1WyGpSbrM</a> [Accessed 29 February 2020].</li>
  <li>Moed, J., 2019. Why Y Combinator In 2019-2020: The Accelerator’s Latest Startups Provide An Inside Look [Online]. Available from: <a href="https://www.forbes.com/sites/jonathanmoed/2019/09/09/why-y-combinator-in-2019-2020-the-accelerators-latest-startups-provide-an-inside-look/">https://www.forbes.com/sites/jonathanmoed/2019/09/09/why-y-combinator-in-2019-2020-the-accelerators-latest-startups-provide-an-inside-look/</a> [Accessed 29 February 2020].</li>
  <li>PALIOS, S., 2019. Y COMBINATOR PARTNER ERIC MIGICOVSKY ON THE SHIFT FROM STARTUP FOUNDER TO MENTOR [Online]. Available from: <a href="https://betakit.com/y-combinator-partner-eric-migicovsky-on-the-shift-from-startup-founder-to-mentor/">https://betakit.com/y-combinator-partner-eric-migicovsky-on-the-shift-from-startup-founder-to-mentor/</a> [Accessed 29 February 2020].</li>
  <li>Seibel, M., 2016. The Real Product Market Fit [Online]. Available from: <a href="https://blog.ycombinator.com/the-real-product-market-fit/">https://blog.ycombinator.com/the-real-product-market-fit/</a> [Accessed 29 February 2020].</li>
  <li>Shah, H., 2020. 731 Slack Users Reveal Why It’s So Addictive [Online]. Available from: <a href="https://hitenism.com/slack-product-market-fit-survey/">https://hitenism.com/slack-product-market-fit-survey/</a> [Accessed 29 February 2020].</li>
  <li>Voices, V., 2018. Why European Founders At Silicon Valley’s Y Combinator Are Returning Home To Build Their Startups [Online]. Available from: <a href="https://www.forbes.com/sites/valleyvoices/2018/10/29/why-european-founders-at-y-combinator-are-returning-home-to-build-their-startups/amp/">https://www.forbes.com/sites/valleyvoices/2018/10/29/why-european-founders-at-y-combinator-are-returning-home-to-build-their-startups/amp/</a> [Accessed 29 February 2020].</li>
  <li>Y Combinator, 2020. [Online]. Available from: <a href="https://www.ycombinator.com/">https://www.ycombinator.com/</a> [Accessed 29 February 2020].</li>
</ul>]]></content><author><name>Kyo Harada</name></author><category term="Business" /><category term="Finance" /><category term="Start-Up" /><category term="Business Finance Start-Up" /><summary type="html"><![CDATA[This is a modified version of the report for Knowledge Leadership in a Global Economy in Bath Full Time MBA Class of 2020.]]></summary></entry><entry><title type="html">Sources of finance</title><link href="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/26/sources-of-finance.html" rel="alternate" type="text/html" title="Sources of finance" /><published>2021-05-26T00:00:00+09:00</published><updated>2021-05-26T00:00:00+09:00</updated><id>https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/26/sources-of-finance</id><content type="html" xml:base="https://kyo1988.github.io/Kyo.github.io/business/finance/2021/05/26/sources-of-finance.html"><![CDATA[<ul id="markdown-toc">
  <li><a href="#sources-of-finance" id="markdown-toc-sources-of-finance">Sources of finance</a>    <ul>
      <li><a href="#summary" id="markdown-toc-summary">Summary</a></li>
      <li><a href="#appropriate-source-of-finance" id="markdown-toc-appropriate-source-of-finance">Appropriate source of finance</a></li>
      <li><a href="#the-reason-debt-is-usually-a-cheaper-source-of-finance-than-equity" id="markdown-toc-the-reason-debt-is-usually-a-cheaper-source-of-finance-than-equity">The reason debt is usually a cheaper source of finance than equity</a></li>
      <li><a href="#the-sources-of-funding-revolving-credit-facility-and-senior-note" id="markdown-toc-the-sources-of-funding-revolving-credit-facility-and-senior-note">The sources of funding (revolving credit facility and senior note)</a></li>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<p>This is a modified version of the report for Understanding Finance (Part 2: Sources of finance) in Bath Full Time MBA Class of 2020.</p>

<h1 id="sources-of-finance">Sources of finance</h1>

<h2 id="summary">Summary</h2>
<p>This report will address three issues, one of which is to identify and explain three factors that a Chief Financial Officer (CFO) have consider to determine an appropriate source of finance for a company, which are mainly how much to pay dividends from retained earnings and the level of gearing with debt and equity.  Another problem is to explain why debt is usually a cheaper source of finance than equity is true owing to tax deductibility and lower cost.  The last topic is to describe the two sources of funding (revolving credit facility and senior note), explaining how each source of funding works and outlining at least one advantage and one disadvantage of each source.</p>

<h2 id="appropriate-source-of-finance">Appropriate source of finance</h2>
<p>The sources of finance for a company are mainly retained earnings, equity and debt.  When a Chief Financial Officer (CFO) considers a harmony of these sources, they should think how much they should return the retained earnings as the dividends for their shareholders primarily.  This is mainly because Assets of investors should be allocated by the most productive way, therefore, usually the retained earnings, consequently dividends ought to be reinvested to other more the companies or projects except for some cases including Google with zero dividend policy owing to having a great deal of cash generating projects internally.  However, even if the company has some projects with a positive NPV, it may not be covered by only their retained earnings.  In this situation, CFO should consider how to finance at the lowest cost, especially interest to gear with equity and debt, which are external sources for the company.  There are two theories to find an optimal capital structure, which are pecking order theory and trade off theory, however, both argued that debt is better or more preferable than equity.</p>

<h2 id="the-reason-debt-is-usually-a-cheaper-source-of-finance-than-equity">The reason debt is usually a cheaper source of finance than equity</h2>
<p>why debt is usually a cheaper source of finance than equity can be mainly two reasons.  One of them is that the cost of debt is less than the cost of equity due to lower risk.  Although the issuer has to pay the arrangement fee when they issue the debt, still the cost is cheaper than the one of equity because they must pay the dividend unless they have no dividend policy.  Another reason might be that the debt interest is tax deductible which lowers cost to the company.</p>

<h2 id="the-sources-of-funding-revolving-credit-facility-and-senior-note">The sources of funding (revolving credit facility and senior note)</h2>
<p>The company is funded by debt mainly including revolving credit facility and senior note.  A revolving credit (facility) is a modified line of credit which is a one-time agreement due to the fact that the account is closed when the company spends the maximum amount previously determined <cite>(Segal, 2019)</cite>.  However, the difference between a revolving credit and normal one is that the company can pay on a revolving credit account regularly with slightly higher interest rate which can be the one of major disadvantages.  On the other hand, one of the major advantages might be that the company has the capability to pay on demand, which is equal to having the liquidity to pay by cash even if the company has no cash.
The senior note is a debt to have a right to be paid by the issuer primarily when they are bankrupt in comparison with the subordinate debt <cite>(Watson and Head, 2019)</cite>.  The primary claim on an issuer’s assets and tax-deductible can be the major advantages.  In contrast, one of the disadvantages might be that the issuer has to be redeemed when it reaches maturity.  In addition, according to the tradeoff theory, the debt increases financial risk because the interest has to be paid primary and therefore the dividend may not remain.  As a result, a senior note which has a higher interest than the normal one can increase the risk of bankruptcy more than using ordinary debt.</p>

<h2 id="reference">Reference</h2>
<ul>
  <li>Segal, T., 2019. Revolving Credit vs. Line of Credit: What’s the Difference? [Online]. Available from: <a href="https://www.investopedia.com/ask/answers/110614/what-are-differences-between-revolving-credit-and-line-credit.asp">https://www.investopedia.com/ask/answers/110614/what-are-differences-between-revolving-credit-and-line-credit.asp</a> [Accessed 20 December 2019]</li>
  <li>Watson, D. and Head, A., 2019. Corporate Finance Principles and Practice. 8th edition. Pearson Education Limited</li>
</ul>]]></content><author><name>Kyo Harada</name></author><category term="Business" /><category term="Finance" /><category term="Business Finance" /><summary type="html"><![CDATA[This is a modified version of the report for Understanding Finance (Part 2: Sources of finance) in Bath Full Time MBA Class of 2020.]]></summary></entry></feed>