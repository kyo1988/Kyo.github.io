{% comment %}
  Callout Include
  Usage: {% include callout.html type="info" title="Note" content="Your content here" %}
  
  Parameters:
  - type: Callout type - info, warning, danger, success (default: info)
  - title: Callout title (optional)
  - content: Callout content (required)
  - icon: Icon to display (optional)
{% endcomment %}

{% assign callout_type = include.type | default: 'info' %}
{% assign callout_title = include.title | default: '' %}
{% assign callout_content = include.content | default: '' %}
{% assign callout_icon = include.icon | default: '' %}

<div class="callout {{ callout_type }}">
  {% if callout_title %}
    <div class="callout-title">
      {% if callout_icon %}
        <span class="callout-icon">{{ callout_icon }}</span>
      {% endif %}
      {{ callout_title }}
    </div>
  {% endif %}
  <div class="callout-content">
    {{ callout_content | markdownify }}
  </div>
</div>

<style>
.callout {
  background: var(--callout-bg, #f8f9fa);
  border: 1px solid var(--callout-border, #dee2e6);
  border-radius: 0.5rem;
  padding: 1.25rem;
  margin: 1.5rem 0;
  position: relative;
  overflow: hidden;
}

.callout::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--callout-accent, #6c757d);
  border-radius: 0.5rem 0 0 0.5rem;
}

.callout-title {
  font-weight: 600;
  margin: 0 0 0.75rem 0;
  color: var(--callout-title-color, var(--heading));
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.callout-icon {
  font-size: 1.125rem;
}

.callout-content {
  color: var(--callout-text-color, var(--text));
  line-height: 1.6;
}

.callout-content p {
  margin: 0.5rem 0;
}

.callout-content p:first-child {
  margin-top: 0;
}

.callout-content p:last-child {
  margin-bottom: 0;
}

.callout-content ul,
.callout-content ol {
  margin: 0.5rem 0;
  padding-left: 1.25rem;
}

.callout-content li {
  margin: 0.25rem 0;
}

/* Callout Types */
.callout.info {
  --callout-bg: #f0f9ff;
  --callout-border: #0ea5e9;
  --callout-accent: #0ea5e9;
  --callout-title-color: #0c4a6e;
  --callout-text-color: #0c4a6e;
}

.callout.warning {
  --callout-bg: #fefce8;
  --callout-border: #eab308;
  --callout-accent: #eab308;
  --callout-title-color: #a16207;
  --callout-text-color: #a16207;
}

.callout.danger {
  --callout-bg: #fef2f2;
  --callout-border: #ef4444;
  --callout-accent: #ef4444;
  --callout-title-color: #dc2626;
  --callout-text-color: #dc2626;
}

.callout.success {
  --callout-bg: #f0fdf4;
  --callout-border: #22c55e;
  --callout-accent: #22c55e;
  --callout-title-color: #166534;
  --callout-text-color: #166534;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .callout {
    --callout-bg: #1a1a1a;
    --callout-border: #404040;
    --callout-accent: #6b7280;
  }
  
  .callout.info {
    --callout-bg: #0f172a;
    --callout-border: #0ea5e9;
    --callout-accent: #0ea5e9;
    --callout-title-color: #7dd3fc;
    --callout-text-color: #7dd3fc;
  }
  
  .callout.warning {
    --callout-bg: #1a1a0a;
    --callout-border: #eab308;
    --callout-accent: #eab308;
    --callout-title-color: #fde047;
    --callout-text-color: #fde047;
  }
  
  .callout.danger {
    --callout-bg: #1a0a0a;
    --callout-border: #ef4444;
    --callout-accent: #ef4444;
    --callout-title-color: #fca5a5;
    --callout-text-color: #fca5a5;
  }
  
  .callout.success {
    --callout-bg: #0a1a0a;
    --callout-border: #22c55e;
    --callout-accent: #22c55e;
    --callout-title-color: #86efac;
    --callout-text-color: #86efac;
  }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .callout {
    padding: 1rem;
    margin: 1.25rem 0;
  }
  
  .callout-title {
    font-size: 0.9375rem;
  }
  
  .callout-content {
    font-size: 0.875rem;
  }
}

/* Print styles */
@media print {
  .callout {
    break-inside: avoid;
    box-shadow: none;
  }
}
</style>
